{"version":3,"sources":["webpack:///./lib/useApi/index.js","webpack:///./lib/utils/cx/index.js","webpack:///./lib/utils/debounce/index.js","webpack:///./lib/utils/extraPropsGetters/index.js","webpack:///./lib/Context.js","webpack:///./lib/common/HeightProvider.js","webpack:///./lib/common/ScrollContainer.js","webpack:///./lib/utils/useStore/index.js","webpack:///./lib/models/FixedSizeList.js","webpack:///./lib/models/ListBase.js","webpack:///./lib/models/VariableSizeList.js","webpack:///./lib/common/Scroller.js","webpack:///./lib/commonDefaultProps.js","webpack:///./lib/common/RowCountWarningContainer.js","webpack:///./lib/Table/common/Cell.js","webpack:///./lib/utils/isPositionStickySupported/index.js","webpack:///./lib/utils/math/index.js","webpack:///./lib/models/createTable.js","webpack:///./lib/models/FixedSizeTable.js","webpack:///./lib/models/VariableSizeTable.js","webpack:///./lib/Table/common/Row.js","webpack:///./lib/Table/common/TotalsCell.js","webpack:///./lib/Table/common/Colgroup.js","webpack:///./lib/Table/NonSticky/TableWrapper/index.js","webpack:///./lib/Table/common/HeaderCells.js","webpack:///./lib/Table/common/Thead.js","webpack:///./lib/Table/common/FooterCells.js","webpack:///./lib/Table/common/Tfoot.js","webpack:///./lib/Table/common/Rows.js","webpack:///./lib/Table/common/Tbody.js","webpack:///./lib/Table/common/BodyTable.js","webpack:///./lib/Table/NonSticky/useColWidthsResizeObserver/index.js","webpack:///./lib/Table/common/TbodyScroller.js","webpack:///./lib/Table/NonSticky/index.js","webpack:///./lib/Table/Sticky/index.js","webpack:///./lib/Table/index.js","webpack:///./lib/List/common/Row.js","webpack:///./lib/List/common/Rows.js","webpack:///./lib/List/index.js"],"names":["reducer","x","useApi","subscribeEvents","API","useContext","Context","up","useReducer","useLayoutEffect","j","length","on","_j","off","cx","baseClass","extraClass","debounce","fn","delay","maxWait","timerId","lastInvokeStamp","invoke","context","stamp","call","undefined","cancelPendingCall","clearTimeout","resultFn","performance","now","this","setTimeout","cancel","getPropsGetter","propName","data","index","dataIndex","getExtraProps","_props","props","extraProps","Object","assign","getRowProps","getCellProps","createContext","SUBSCRIBE_EVENTS","el","React","createElement","className","HeightProvider","style","height","widgetScrollHeight","cloneElement","memo","ScrollContainer","forwardRef","_ref","ref","children","onScroll","reportScrollLeft","_objectWithoutPropertiesLoose","scrollHandler","useCallback","e","_e$target","target","scrollTop","scrollLeft","set","useEffect","current","R","ResizeObserver","entries","_entries$0$target","offsetWidth","offsetHeight","Math","round","observe","unobserve","_extends","tabIndex","useStore","StoreConstructor","dataRef","finalDataRef","useRef","Store","destructor","FixedSizeList","_ListBase","_inheritsLoose","_proto","prototype","_this","updateWidgetScrollHeight","updateEstimatedRowHeight","estimatedRowHeight","totalRows","node","rowsContainerNode","firstElementChild","getVisibleRangeStart","distance","getDistanceBetweenIndexes","startIndex","endIndex","ListBase","getRowDataInitial","Error","_EventEmitter","virtualTopOffset","overscanRowsCount","widgetHeight","widgetWidth","rowKeyGetter","rowDataGetter","scrollContainerNode","increaseEndIndexIfNeeded","increaseEndIndexIfNeededSync","updateEndIndex","updateStartOffset","paramName","paramValue","emit","merge","params","k","currentVisibleDist","removeAllListeners","_this$getVisibleRange","newVisibleStartIndex","remainder","newStartIndex","max","overscanOffset","newEndIndex","min","scrollToRow","scrollToStart","EventEmitter","SegmentsTreeCache","Uint32Array","VariableSizeList","sTree","N","shouldResetInvisibleRowHeights","setVisibleRowsHeights","setVisibleRowsHeightsSync","prependListener","resetCache","reallocateCacheIfNeeded","markResetInvisibleRowHeights","calculateParentsInRange","i","newHeight","l","r","rowHeightsSum","rowCounter","child","nextElementSibling","parseInt","getAttribute","dist","v","nodeIndex","fill","suggestedN","log2","res","Scroller","Component","useApiPlugin","commonDefaultProps","fixedSize","rowCount","RowCountWarningContainer","Cell","rowData","rowIndex","column","columnIndex","getCellExtraProps","render","getEmptyCellData","dataKey","format","getCellData","cellData","propTypes","elStyle","document","cssText","map","p","join","isSupported","position","includes","isPositionStickySupported","add","a","b","subtract","OrderedRowsCache","TbodyColumnWidthsCache","L","Intl","Collator","getValueForSorting","srcVal","fieldName","defaultValue","getRowData","result","reduceRange","startValue","getNewRes","TotalsCachePart","count","sum","average","createTable","BaseClass","constructorCallback","_BaseClass","_temp","columns","totals","headlessMode","sortColumnIndex","sortDirectionSign","tbodyColumnWidthsSum","tbodyColumnWidths","orderedRows","totalsCache","create","refreshTotals","refreshTotalsSync","refreshSorting","_this$columns$_this$s","sort","sorter","method","directionSign","compare","v1","v2","getSorter","resetColumnWidthsCache","refreshRowsOrder","refreshColumnWidthsSum","_assertThisInitialized","refreshTotalsForColumnRaw","cellDataGetter","curTotals","curCachePart","totalType","oldVal","newVal","tmpSum","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","process","refreshTotalsForColumn","col","find","c","_this$columns$j","setSortParams","colIndex","rows","reduce","instance","Row","CellComponent","getRowExtraProps","rowDataIndex","visibility","FinalCellComponent","key","TotalsCell","cellTotals","formatTotal","summaryType","title","commonSubscribeEvents","nonStickySubscribeEvents","concat","Colgroup","useTbodyWidths","_useApiPlugin","_ref2","background","border","width","TableWrapper","_useApi","marginLeft","SortDirections","HeaderCells","label","Thead","trRef","getCellStyle","clickHandler","onClick","FooterCells","TotalsCellComponent","curTotalsCache","Tfoot","Rows","RowComponent","rangeFrom","rangeTo","getRowKey","rowKey","idx","push","getVisibleRows","Tbody","tbodyRef","BodyTable","useColWidthsResizeObserver","observerRef","mutationObserverRef","RO","MO","MutationObserver","_entries$i","addedNodes","removedNodes","disconnect","trNode","childList","TbodyScroller","NonSticky","scrollContainerRef","widthsObserverRef","Sticky","Table","rowCountWarningsTable","headless","nonSticky","FixedSizeTableStore","VariableSizeTableStore","ComponentVariant","StickyComponent","NonStickyComponent","Provider","value","defaultProps","RowComponentDefault","CellComponentDefault","TotalsCellComponentDefault","RowCountWarningContainerDefault","List","_ref$RowComponent","rowsContainerRef","FixedSizeListStore","VariableSizeListStore"],"mappings":"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","file":"This library.eeaa50670ed2048ce607.js","sourcesContent":["import { useContext, useLayoutEffect, useReducer } from \"react\";\nimport Context from \"../Context\";\n\nvar reducer = function reducer(x) {\n  return x + 1;\n};\n/*\n\tTODO:\n\t\twhy useEffect does not properly update colgroup of tbody, when rowcount changes from 0 to positive value?\n*/\n\n\nvar useApi = function useApi(subscribeEvents) {\n  var API = useContext(Context);\n\n  var _useReducer = useReducer(reducer, 0),\n      up = _useReducer[1];\n\n  useLayoutEffect(function () {\n    for (var j = 0; j < subscribeEvents.length; j++) {\n      API.on(subscribeEvents[j], up);\n    }\n\n    return function () {\n      for (var _j = 0; _j < subscribeEvents.length; _j++) {\n        API.off(subscribeEvents[_j], up);\n      }\n    };\n  }, subscribeEvents);\n  return API;\n};\n\nexport default useApi;","var cx = function cx(baseClass, extraClass) {\n  return extraClass ? baseClass + \" \" + extraClass : baseClass;\n};\n\nexport default cx;","var debounce = function debounce(fn, delay, maxWait) {\n  var timerId,\n      lastInvokeStamp = -1 * (maxWait || 0);\n\n  var invoke = function invoke(context, stamp) {\n    fn.call(context);\n    lastInvokeStamp = stamp;\n    timerId = undefined;\n  };\n\n  var cancelPendingCall = function cancelPendingCall() {\n    if (timerId) {\n      clearTimeout(timerId);\n      timerId = undefined;\n    }\n  };\n\n  var resultFn = function resultFn() {\n    cancelPendingCall();\n    var stamp = performance.now();\n\n    if (maxWait && stamp - lastInvokeStamp > maxWait) {\n      invoke(this, stamp);\n    } else {\n      timerId = setTimeout(invoke, delay, this, stamp);\n    }\n  };\n\n  resultFn.cancel = cancelPendingCall;\n  return resultFn;\n};\n\nexport default debounce;","var getPropsGetter = function getPropsGetter(propName) {\n  return function (data, index, dataIndex, getExtraProps) {\n    var _props;\n\n    /* avoiding double destructurization via getExtraProps, so making prop object once */\n    var props = (_props = {}, _props[propName] = index + 1, _props);\n\n    if (getExtraProps) {\n      var extraProps = getExtraProps(data, index, dataIndex);\n\n      if (extraProps) {\n        if (process.env.NODE_ENV !== \"production\") {\n          if (extraProps.hasOwnProperty(propName)) {\n            throw new Error(\"getExtraProps must not override \" + propName);\n          }\n        }\n\n        Object.assign(props, extraProps);\n      }\n    }\n\n    return props;\n  };\n};\n\nexport var getRowProps = /*#__PURE__*/getPropsGetter(\"aria-rowindex\");\nexport var getCellProps = /*#__PURE__*/getPropsGetter(\"aria-colindex\");","import { createContext } from \"react\";\nexport default /*#__PURE__*/createContext();","import React, { cloneElement, memo } from \"react\";\nimport useApi from \"../useApi\";\nvar SUBSCRIBE_EVENTS = [\"#widgetScrollHeight\"];\nvar el = /*#__PURE__*/React.createElement(\"div\", {\n  \"aria-hidden\": \"true\",\n  className: \"afvscr-height-provider\"\n});\n\nvar HeightProvider = function HeightProvider() {\n  var _useApi = useApi(SUBSCRIBE_EVENTS),\n      height = _useApi.widgetScrollHeight;\n\n  var props = {\n    style: {\n      height: height\n    }\n  };\n  return cloneElement(el, props);\n};\n\nexport default /*#__PURE__*/memo(HeightProvider);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { forwardRef, useCallback, useEffect } from \"react\";\nimport cx from \"../utils/cx\";\nimport HeightProvider from \"./HeightProvider\";\nimport useApi from \"../useApi\";\nvar SUBSCRIBE_EVENTS = [];\nvar ScrollContainer = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      onScroll = _ref.onScroll,\n      reportScrollLeft = _ref.reportScrollLeft,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\", \"children\", \"onScroll\", \"reportScrollLeft\"]);\n\n  var API = useApi(SUBSCRIBE_EVENTS);\n  var scrollHandler = useCallback(function (e) {\n    var _e$target = e.target,\n        scrollTop = _e$target.scrollTop,\n        scrollLeft = _e$target.scrollLeft;\n    API.set(\"scrollTop\", scrollTop);\n\n    if (reportScrollLeft) {\n      API.set(\"scrollLeft\", scrollLeft);\n    }\n\n    if (onScroll) {\n      onScroll(e);\n    }\n  }, [onScroll, reportScrollLeft]);\n  useEffect(function () {\n    var el = ref.current;\n    var R = new ResizeObserver(function (entries) {\n      if (entries.length === 1) {\n        /*\n            using target.offsetWidth instead of contentRect.width, because we need border-box sizing, \n            and { box: border-box } option does not work here\n        */\n        var _entries$0$target = entries[0].target,\n            offsetWidth = _entries$0$target.offsetWidth,\n            offsetHeight = _entries$0$target.offsetHeight;\n        API.set(\"widgetHeight\", Math.round(offsetHeight)).set(\"widgetWidth\", Math.round(offsetWidth));\n      }\n    });\n    R.observe(el);\n    return function () {\n      R.unobserve(el);\n    };\n  }, []);\n  /*\n      tabIndex=\"0\" is for proper keyboard nav\n      https://bugzilla.mozilla.org/show_bug.cgi?id=1346159\n  */\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    tabIndex: \"0\",\n    className: cx(\"afvscr-scroll-container\", className),\n    ref: ref,\n    onScroll: scrollHandler\n  }, props), /*#__PURE__*/React.createElement(HeightProvider, null), children);\n});\nexport default ScrollContainer;","import { useRef, useEffect } from \"react\";\n/*\n    dataRef is to call Data methods from outside( Data.scrollTo(), etc. ).\n    As it is not dom-related, I decided to avoid forwardRef\n*/\n\nvar useStore = function useStore(StoreConstructor, dataRef) {\n  var finalDataRef = useRef();\n  var Store = finalDataRef.current;\n\n  if (!Store || !(Store instanceof StoreConstructor)) {\n    Store = finalDataRef.current = new StoreConstructor();\n  }\n\n  if (dataRef) {\n    dataRef.current = Store;\n  }\n\n  useEffect(function () {\n    return function () {\n      Store.destructor();\n    };\n  }, [Store]);\n  return Store;\n};\n\nexport default useStore;","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport ListBase from \"./ListBase\";\n\nvar FixedSizeList = /*#__PURE__*/function (_ListBase) {\n  _inheritsLoose(FixedSizeList, _ListBase);\n\n  var _proto = FixedSizeList.prototype;\n\n  _proto.updateWidgetScrollHeight = function updateWidgetScrollHeight() {\n    return this.set(\"widgetScrollHeight\", this.estimatedRowHeight * this.totalRows);\n  };\n\n  _proto.updateEstimatedRowHeight = function updateEstimatedRowHeight() {\n    var node = this.rowsContainerNode;\n\n    if (node) {\n      var firstElementChild = node.firstElementChild;\n\n      if (firstElementChild) {\n        this.set(\"estimatedRowHeight\", firstElementChild.offsetHeight);\n      }\n    }\n  };\n\n  _proto.getVisibleRangeStart = function getVisibleRangeStart(distance) {\n    var estimatedRowHeight = this.estimatedRowHeight;\n    return [distance / estimatedRowHeight | 0, distance % estimatedRowHeight];\n  };\n\n  function FixedSizeList() {\n    var _this;\n\n    _this = _ListBase.call(this) || this;\n\n    _this.on(\"#estimatedRowHeight\", _this.updateWidgetScrollHeight).on(\"#widgetWidth\", _this.updateEstimatedRowHeight);\n\n    return _this;\n  }\n\n  _proto.getDistanceBetweenIndexes = function getDistanceBetweenIndexes(startIndex, endIndex) {\n    return this.estimatedRowHeight * (endIndex - startIndex);\n  };\n\n  return FixedSizeList;\n}(ListBase);\n\n;\nexport default FixedSizeList;","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport EventEmitter from \"af-tools/lib/eventEmitters/Basic\";\nimport debounce from \"../utils/debounce\";\n\nvar getRowDataInitial = function getRowDataInitial() {\n  throw new Error(\"getRowData must be provided\");\n};\n\nvar END_INDEX_CHECK_INTERVAL = 400;\nvar DEFAULT_ESTIMATED_ROW_HEIGHT = 16;\n\nvar ListBase = /*#__PURE__*/function (_EventEmitter) {\n  _inheritsLoose(ListBase, _EventEmitter);\n\n  var _proto = ListBase.prototype;\n\n  _proto.set = function set(paramName, paramValue) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!this.hasOwnProperty(paramName)) {\n        throw new Error(\"Trying to merge key, which does not exist: \" + paramName);\n      }\n    }\n\n    if (this[paramName] !== paramValue) {\n      this[paramName] = paramValue;\n      this.emit(\"#\" + paramName);\n    }\n\n    return this;\n  };\n\n  _proto.merge = function merge(params) {\n    for (var k in params) {\n      this.set(k, params[k]);\n    }\n\n    return this;\n  };\n\n  function ListBase() {\n    var _this;\n\n    _this = _EventEmitter.call(this) || this;\n    _this.totalRows = 0;\n    _this.startIndex = 0;\n    _this.endIndex = 0;\n    _this.virtualTopOffset = 0;\n    _this.widgetScrollHeight = 0;\n    _this.overscanRowsCount = 0;\n    _this.estimatedRowHeight = DEFAULT_ESTIMATED_ROW_HEIGHT;\n    _this.scrollTop = 0;\n    _this.widgetHeight = 0;\n    _this.widgetWidth = 0;\n    _this.rowKeyGetter = undefined;\n    _this.rowDataGetter = getRowDataInitial;\n    _this.rowsContainerNode = null;\n    _this.scrollContainerNode = null;\n    _this.increaseEndIndexIfNeeded = debounce(_this.increaseEndIndexIfNeededSync, END_INDEX_CHECK_INTERVAL);\n\n    if (process.env.NODE_ENV !== \"production\") {\n      var absentMethods = [\"updateWidgetScrollHeight\", \"getDistanceBetweenIndexes\", \"getVisibleRangeStart\"].filter(function (fn) {\n        return !_this[fn];\n      });\n\n      if (absentMethods.length) {\n        throw new Error(\"Absent methods: \" + absentMethods.join(\",\"));\n      }\n    }\n\n    _this.on(\"#totalRows\", _this.updateWidgetScrollHeight).on(\"#totalRows\", _this.updateEndIndex).on(\"#widgetScrollHeight\", _this.increaseEndIndexIfNeeded).on(\"#endIndex\", _this.increaseEndIndexIfNeeded.cancel).on(\"#scrollTop\", _this.updateStartOffset).on(\"#overscanRowsCount\", _this.updateStartOffset).on(\"#widgetHeight\", _this.updateEndIndex).on(\"#startIndex\", _this.updateEndIndex);\n\n    return _this;\n  }\n  /*\n      Column heights may change during scroll/width-change\n  */\n\n\n  _proto.increaseEndIndexIfNeededSync = function increaseEndIndexIfNeededSync() {\n    var currentVisibleDist = this.getDistanceBetweenIndexes(this.startIndex, this.endIndex);\n\n    if (this.widgetHeight > this.virtualTopOffset + currentVisibleDist - this.scrollTop) {\n      this.updateEndIndex();\n    }\n  };\n\n  _proto.destructor = function destructor() {\n    this.increaseEndIndexIfNeeded.cancel();\n    this.removeAllListeners();\n  };\n\n  _proto.updateStartOffset = function updateStartOffset() {\n    var scrollTop = this.scrollTop,\n        overscanRowsCount = this.overscanRowsCount;\n\n    var _this$getVisibleRange = this.getVisibleRangeStart(scrollTop),\n        newVisibleStartIndex = _this$getVisibleRange[0],\n        remainder = _this$getVisibleRange[1];\n\n    var newStartIndex = Math.max(0, newVisibleStartIndex - overscanRowsCount);\n    var overscanOffset = this.getDistanceBetweenIndexes(newStartIndex, newVisibleStartIndex);\n    return this.set(\"virtualTopOffset\", scrollTop - remainder - overscanOffset).set(\"startIndex\", newStartIndex);\n  };\n\n  _proto.updateEndIndex = function updateEndIndex() {\n    var _this$getVisibleRange2 = this.getVisibleRangeStart(this.scrollTop + this.widgetHeight),\n        newEndIndex = _this$getVisibleRange2[0];\n    /*\n        getVisibleRangeStart works by \"strict less\" algo. It is good for startIndex,\n        but for endIndex we need \"<=\", so adding 1 artificially.\n    */\n\n\n    return this.set(\"endIndex\", Math.min(newEndIndex + 1 + this.overscanRowsCount, this.totalRows));\n  };\n\n  _proto.scrollToRow = function scrollToRow(index) {\n    var node = this.scrollContainerNode;\n\n    if (node) {\n      index = Math.max(0, Math.min(index, this.totalRows));\n      node.scrollTop = this.getDistanceBetweenIndexes(0, index);\n    }\n\n    return this;\n  };\n\n  _proto.scrollToStart = function scrollToStart() {\n    return this.scrollToRow(0);\n  };\n\n  return ListBase;\n}(EventEmitter);\n\n;\nexport default ListBase;","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport ListBase from \"./ListBase\";\nimport debounce from \"../utils/debounce\"; // Uint16 cannot be used here, because array stores intermediate sums, which can be huge.\n\nvar SegmentsTreeCache = Uint32Array;\n/*\n    We should always have some extra space for new rows. We do not want to reallocate cache every time.\n*/\n\nvar MIN_TREE_CACHE_OFFSET = 15;\nvar ROW_MEASUREMENT_DEBOUNCE_INTERVAL = 150;\nvar ROW_MEASUREMENT_DEBOUNCE_MAXWAIT = 1000;\n\nvar VariableSizeList = /*#__PURE__*/function (_ListBase) {\n  _inheritsLoose(VariableSizeList, _ListBase);\n\n  var _proto = VariableSizeList.prototype;\n\n  /*\n      Two vars for non-recursive segments tree;\n      Could just make [ 0, 0 ], but want to keep type of heightsCache always of same type.\n  */\n\n  /*\n      When all row heights are different,\n      we must \"predict\" them on the left of startIndex and on the right of endIndex(where they are invisible),\n      basing on what we know: heights between startIndex and endIndex.\n      Using simple average by default.\n  */\n  _proto.markResetInvisibleRowHeights = function markResetInvisibleRowHeights() {\n    this.shouldResetInvisibleRowHeights = true;\n  };\n\n  _proto.updateWidgetScrollHeight = function updateWidgetScrollHeight() {\n    /* In segments tree 1 node is always sum of all elements */\n    return this.set(\"widgetScrollHeight\", this.sTree[1]);\n  };\n\n  _proto.calculateParentsInRange = function calculateParentsInRange(startIndex, endIndex) {\n    var sTree = this.sTree,\n        N = this.N;\n\n    for (endIndex += N, startIndex += N; endIndex >>= 1;) {\n      for (var i = startIndex >>= 1; i <= endIndex; i++) {\n        sTree[i] = sTree[i << 1] + sTree[i << 1 | 1];\n      }\n    }\n\n    return this;\n  };\n\n  _proto.setVisibleRowsHeightsSync = function setVisibleRowsHeightsSync() {\n    var node = this.rowsContainerNode;\n\n    if (node) {\n      var sTree = this.sTree,\n          N = this.N;\n      var l = -1,\n          r = -1,\n          rowHeightsSum = 0,\n          rowCounter = 0;\n      /*\n          Some benchmarks inspire me to use nextElementSibling\n          https://jsperf.com/nextsibling-vs-childnodes-increment/2\n      */\n\n      for (var child = node.firstElementChild, newHeight, index; child; child = child.nextElementSibling, rowCounter++) {\n        /*\n            * aria-rowindex is counted from 1 according to w3c spec;\n            * parseInt with radix is 2x faster, then +, -, etc.\n              https://jsperf.com/number-vs-parseint-vs-plus/116\n        */\n        index = parseInt(child.getAttribute(\"aria-rowindex\"), 10) - 1;\n\n        if (process.env.NODE_ENV !== \"production\" && Number.isNaN(index)) {\n          throw new Error(\"aria-rowindex attribute must be present on each row. Look at default Row implementations.\");\n        }\n\n        newHeight = child.offsetHeight;\n        rowHeightsSum += newHeight;\n\n        if (sTree[N + index] !== newHeight) {\n          // console.log( \"%d| was: %d; is: %d\", index, sTree[N+index],newHeight)\n          sTree[N + index] = newHeight;\n\n          if (l === -1) {\n            l = index;\n          }\n\n          r = index;\n        }\n      }\n\n      if (l !== -1) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.log(\"Updating heights in range: %d - %d\", l, r);\n        }\n\n        if (this.shouldResetInvisibleRowHeights) {\n          this.set(\"estimatedRowHeight\", Math.round(rowHeightsSum / rowCounter));\n          this.shouldResetInvisibleRowHeights = false;\n        } else {\n          this.calculateParentsInRange(l, r).updateWidgetScrollHeight();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto.getVisibleRangeStart = function getVisibleRangeStart(dist) {\n    var sTree = this.sTree,\n        N = this.N;\n    var nodeIndex = 1,\n        v;\n\n    while (nodeIndex < N) {\n      v = sTree[nodeIndex <<= 1];\n\n      if (dist >= v) {\n        dist -= v;\n        nodeIndex |= 1;\n      }\n    }\n\n    return [nodeIndex - N, dist];\n  };\n\n  _proto.resetCache = function resetCache() {\n    var sTree = this.sTree,\n        estimatedRowHeight = this.estimatedRowHeight,\n        N = this.N,\n        totalRows = this.totalRows;\n    sTree.fill(estimatedRowHeight, N, N + totalRows);\n    /*\n        Trees are not always ideally allocated, gaps are possible.\n        Classical way for calculating parents is much simpler,\n        but can do much more work(summing zeros) in such conditions. Commented classic algo:\n             for( let i = N + totalRows >> 1, j; i > 0; --i ){\n            j = i << 1;\n            sTree[ i ] = sTree[ j ] + sTree[ j | 1 ];\n        }\n    */\n\n    return this.calculateParentsInRange(0, totalRows);\n  };\n\n  _proto.reallocateCacheIfNeeded = function reallocateCacheIfNeeded() {\n    /* Nearest pow of 2 to totalRows. 56 >= 64, 67 => 128, etc. */\n    var suggestedN = this.totalRows > 0 ? 2 << Math.log2(this.totalRows + MIN_TREE_CACHE_OFFSET) : 1;\n\n    if (this.N !== suggestedN) {\n      this.N = suggestedN;\n      this.sTree = new SegmentsTreeCache(suggestedN << 1);\n    }\n\n    return this;\n  };\n\n  function VariableSizeList() {\n    var _this;\n\n    _this = _ListBase.call(this) || this;\n    _this.sTree = new SegmentsTreeCache(2);\n    _this.N = 1;\n    _this.shouldResetInvisibleRowHeights = true;\n    _this.setVisibleRowsHeights = debounce(_this.setVisibleRowsHeightsSync, ROW_MEASUREMENT_DEBOUNCE_INTERVAL, ROW_MEASUREMENT_DEBOUNCE_MAXWAIT);\n\n    _this.prependListener(\"#totalRows\", _this.resetCache).prependListener(\"#totalRows\", _this.reallocateCacheIfNeeded).on(\"#estimatedRowHeight\", _this.resetCache).on(\"#estimatedRowHeight\", _this.updateWidgetScrollHeight).on(\"rows-rendered\", _this.setVisibleRowsHeights).on(\"#widgetWidth\", _this.markResetInvisibleRowHeights).on(\"#widgetWidth\", _this.setVisibleRowsHeights);\n\n    return _this;\n  }\n\n  _proto.destructor = function destructor() {\n    this.setVisibleRowsHeights.cancel();\n\n    _ListBase.prototype.destructor.call(this);\n  };\n\n  _proto.getDistanceBetweenIndexes = function getDistanceBetweenIndexes(startIndex, endIndex) {\n    var sTree = this.sTree,\n        N = this.N;\n    var res = 0;\n\n    for (startIndex += N, endIndex += N; startIndex < endIndex; startIndex >>= 1, endIndex >>= 1) {\n      if (startIndex & 1) {\n        res += sTree[startIndex++];\n      }\n\n      if (endIndex & 1) {\n        res += sTree[--endIndex];\n      }\n    }\n\n    ;\n    return res;\n  };\n\n  return VariableSizeList;\n}(ListBase);\n\n;\nexport default VariableSizeList;","import React, { memo } from \"react\";\nimport useApiPlugin from \"../useApi\";\nvar SUBSCRIBE_EVENTS = [\"#virtualTopOffset\"];\n\nvar Scroller = function Scroller(_ref) {\n  var Component = _ref.Component;\n\n  var _useApiPlugin = useApiPlugin(SUBSCRIBE_EVENTS),\n      virtualTopOffset = _useApiPlugin.virtualTopOffset;\n  /*\n      Hmm, I can't put here more than ~ 3 000 000. Maybe need to put one more row in case this height is > 3 000 000\n  */\n\n\n  return /*#__PURE__*/React.createElement(Component, {\n    className: \"afvscr-scroller\",\n    \"aria-hidden\": \"true\",\n    style: {\n      height: virtualTopOffset\n    }\n  });\n};\n\nexport default /*#__PURE__*/memo(Scroller);","var commonDefaultProps = {\n  fixedSize: false,\n  rowCount: 0,\n  overscanRowsCount: 4\n};\nexport default commonDefaultProps;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from \"react\";\nimport cx from \"../utils/cx\";\n\nvar RowCountWarningContainer = function RowCountWarningContainer(_ref) {\n  var className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: cx(\"afvscr-row-count-warning-container\", className)\n  }, props));\n};\n\nexport default RowCountWarningContainer;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getCellProps } from \"../../utils/extraPropsGetters\";\n/*\n    If all cells in a row would be completely empty - row can \"collapse\" short.\n    To prevent it we can fill it with &nbsp;\n*/\n\nvar DEFAULT_EMPTY_CELL_CONTENT = \"\\xA0\";\n\nvar Cell = function Cell(_ref) {\n  var rowData = _ref.rowData,\n      rowIndex = _ref.rowIndex,\n      column = _ref.column,\n      columnIndex = _ref.columnIndex,\n      getCellExtraProps = _ref.getCellExtraProps;\n  var render = column.render,\n      getEmptyCellData = column.getEmptyCellData,\n      dataKey = column.dataKey,\n      format = column.format,\n      getCellData = column.getCellData;\n  var cellData = rowData && (getCellData ? getCellData(rowData, rowIndex) : rowData[dataKey]);\n\n  if (cellData === undefined || cellData === \"\") {\n    cellData = getEmptyCellData ? getEmptyCellData(rowIndex, column) : DEFAULT_EMPTY_CELL_CONTENT;\n  } else {\n    if (format) {\n      cellData = format(cellData, rowData);\n    }\n\n    if (render) {\n      cellData = render(cellData, rowData, column);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"td\", getCellProps(rowData, columnIndex, columnIndex, getCellExtraProps), cellData);\n};\n\nCell.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  rowIndex: PropTypes.number.isRequired,\n  columnIndex: PropTypes.number.isRequired,\n  column: PropTypes.object.isRequired,\n  rowData: PropTypes.object,\n  getCellExtraProps: PropTypes.func\n} : {};\nexport default Cell;","var elStyle = /*#__PURE__*/document.createElement(\"a\").style;\nelStyle.cssText = /*#__PURE__*/[\"\", \"-webkit-\", \"-ms-\"].map(function (p) {\n  return \"position:\" + p + \"sticky\";\n}).join(\";\");\nvar isSupported = /*#__PURE__*/elStyle.position.includes(\"sticky\");\n\nvar isPositionStickySupported = function isPositionStickySupported() {\n  return isSupported;\n};\n\nexport default isPositionStickySupported;","export var add = function add(a, b) {\n  return a + b;\n};\nexport var subtract = function subtract(a, b) {\n  return a - b;\n};","import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport debounce from \"../utils/debounce\";\nimport { add, subtract } from \"../utils/math\";\nvar OrderedRowsCache = Uint32Array;\nvar TbodyColumnWidthsCache = Uint32Array;\nvar REFRESH_SORT_DEBOUNCE_INTERVAL = 500;\nvar L = /*#__PURE__*/new Intl.Collator();\n\nvar getValueForSorting = function getValueForSorting(srcVal, rowIndex, fieldName, defaultValue, getRowData, getCellData) {\n  var result = getRowData(srcVal);\n\n  if (result) {\n    return getCellData ? getCellData(result, rowIndex) : result[fieldName];\n  }\n\n  return defaultValue;\n};\n\nvar getSorter = function getSorter(getRowData, fieldName, method, getCellData, directionSign) {\n  var fn = method === \"locale\" ? L.compare : subtract;\n  var defaultValue = method === \"locale\" ? \"\" : 0;\n  return function (a, b, i) {\n    var v1 = getValueForSorting(a, i, fieldName, defaultValue, getRowData, getCellData);\n    var v2 = getValueForSorting(b, i, fieldName, defaultValue, getRowData, getCellData);\n    return fn(v1, v2) * directionSign;\n  };\n};\n\nvar reduceRange = function reduceRange(totalRows, dataKey, getRowData, getCellData, startValue, getNewRes) {\n  var res = startValue;\n\n  for (var i = 0, rowData, cellData; i < totalRows; i++) {\n    rowData = getRowData(i);\n    cellData = getCellData ? getCellData(rowData, i) : rowData[dataKey];\n    res = getNewRes(res, cellData);\n  }\n\n  return res;\n};\n/*\n    We could use simple object literal,\n    but constructors with stable-order this initialization enforce \"hidden-classes\" v8 optimization\n*/\n\n\nvar TotalsCachePart = function TotalsCachePart() {\n  this.count = 0;\n  this.sum = 0;\n  this.average = 0.0;\n};\n\n;\n/*\n    can't extend from both FixedSizeList and VariableSizeList, so exporting compositor\n*/\n\nvar createTable = function createTable(BaseClass, constructorCallback) {\n  var _temp;\n\n  return _temp = /*#__PURE__*/function (_BaseClass) {\n    _inheritsLoose(_temp, _BaseClass);\n\n    var _proto = _temp.prototype;\n\n    /*\n        We do not want to recalculate totals too often, so caching them in object by column dataKey\n    */\n\n    /*\n        TODO:\n            make this call throttled\n    */\n    _proto.refreshTotalsForColumnRaw = function refreshTotalsForColumnRaw(dataKey, cellDataGetter) {\n      var curTotals = this.totals && this.totals[dataKey];\n\n      if (curTotals) {\n        var curCachePart = this.totalsCache[dataKey];\n\n        if (!curCachePart) {\n          curCachePart = this.totalsCache[dataKey] = new TotalsCachePart();\n        }\n\n        for (var j = 0, totalType, oldVal, newVal, tmpSum; j < curTotals.length; j++) {\n          totalType = curTotals[j];\n          oldVal = curCachePart[totalType];\n\n          switch (totalType) {\n            case \"count\":\n              newVal = this.totalRows;\n              break;\n\n            case \"sum\":\n            case \"average\":\n              if (tmpSum === undefined) {\n                tmpSum = reduceRange(this.totalRows, dataKey, this.rowDataGetter, cellDataGetter, 0, add);\n              }\n\n              newVal = totalType === \"sum\" ? tmpSum : tmpSum / this.totalRows;\n              break;\n\n            case \"min\":\n            case \"max\":\n              newVal = reduceRange(this.totalRows, dataKey, this.rowDataGetter, cellDataGetter, totalType === \"min\" ? Number.MAX_SAFE_INTEGER : Number.MIN_SAFE_INTEGER, Math[totalType]);\n              break;\n\n            default:\n              if (process.env.NODE_ENV !== \"production\") {\n                throw new Error(\"Wrong total type: \" + totalType);\n              }\n\n          }\n\n          if (oldVal !== newVal) {\n            curCachePart[totalType] = newVal;\n            this.emit(\"totals-calculated\");\n          }\n        }\n      } else if (process.env.NODE_ENV !== \"production\") {\n        console.log(\"Asked to recalculate totals for: \" + dataKey + \"; doing nothing;\");\n      }\n\n      return this;\n    };\n\n    _proto.refreshTotalsForColumn = function refreshTotalsForColumn(dataKey) {\n      var col = this.columns.find(function (c) {\n        return c.dataKey === dataKey;\n      });\n\n      if (col) {\n        this.refreshTotalsForColumnRaw(dataKey, col.getCellData);\n      }\n\n      return this;\n    };\n\n    _proto.refreshTotalsSync = function refreshTotalsSync() {\n      for (var j = 0, dataKey, getCellData; j < this.columns.length; j++) {\n        var _this$columns$j = this.columns[j];\n        dataKey = _this$columns$j.dataKey;\n        getCellData = _this$columns$j.getCellData;\n        this.refreshTotalsForColumnRaw(dataKey, getCellData);\n      }\n    };\n\n    _proto.setSortParams = function setSortParams(colIndex, sortDirectionSign) {\n      if (this.sortColumnIndex !== colIndex || sortDirectionSign !== this.sortDirectionSign) {\n        this.sortColumnIndex = colIndex;\n        this.sortDirectionSign = sortDirectionSign;\n        this.emit(\"sort-params-changed\");\n      }\n    };\n\n    _proto.refreshRowsOrder = function refreshRowsOrder() {\n      if (this.orderedRows.length !== this.totalRows) {\n        var rows = this.orderedRows = new OrderedRowsCache(this.totalRows);\n\n        for (var j = 1; j < rows.length; j++) {\n          rows[j] = j;\n        }\n      }\n\n      return this;\n    };\n\n    _proto.resetColumnWidthsCache = function resetColumnWidthsCache() {\n      this.tbodyColumnWidths = new TbodyColumnWidthsCache(this.columns.length);\n    };\n\n    _proto.refreshColumnWidthsSum = function refreshColumnWidthsSum() {\n      this.tbodyColumnWidthsSum = this.tbodyColumnWidths.reduce(add);\n    };\n\n    function _temp() {\n      var _this;\n\n      _this = _BaseClass.call(this) || this;\n      _this.columns = [];\n      _this.totals = {};\n      _this.headlessMode = false;\n      _this.sortColumnIndex = -1;\n      _this.sortDirectionSign = 1;\n      _this.scrollLeft = 0;\n      _this.tbodyColumnWidthsSum = 0;\n      _this.tbodyColumnWidths = null;\n      _this.orderedRows = new OrderedRowsCache(0);\n      _this.totalsCache = Object.create(null);\n      _this.refreshTotals = debounce(_this.refreshTotalsSync, 150);\n      _this.refreshSorting = debounce(function () {\n        if (_this.sortColumnIndex > -1 && _this.totalRows > 0) {\n          var _this$columns$_this$s = _this.columns[_this.sortColumnIndex],\n              sort = _this$columns$_this$s.sort,\n              dataKey = _this$columns$_this$s.dataKey,\n              getCellData = _this$columns$_this$s.getCellData;\n\n          if (sort) {\n            var sorter = getSorter(_this.rowDataGetter, dataKey, sort, getCellData, _this.sortDirectionSign);\n\n            _this.orderedRows.sort(sorter);\n\n            _this.emit(\"#rowsOrder\");\n          }\n        }\n      }, REFRESH_SORT_DEBOUNCE_INTERVAL);\n\n      _this.on(\"#columns\", _this.resetColumnWidthsCache).on(\"#columns\", _this.refreshTotals).on(\"#columns\", _this.refreshSorting).on(\"#totalRows\", _this.refreshRowsOrder).on(\"#totalRows\", _this.refreshSorting).on(\"#totalRows\", _this.refreshTotals).on(\"sort-params-changed\", _this.refreshSorting).on(\"#rowDataGetter\", _this.refreshSorting).on(\"#rowDataGetter\", _this.refreshTotals).on(\"#rowsOrder\", _this.scrollToStart).on(\"#totals\", _this.refreshTotals).on(\"tbody-column-widths-changed\", _this.refreshColumnWidthsSum) //for non-sticky\n      .refreshRowsOrder();\n\n      if (constructorCallback) {\n        constructorCallback(_assertThisInitialized(_this));\n      }\n\n      return _this;\n    }\n\n    _proto.destructor = function destructor() {\n      this.refreshSorting.cancel();\n      this.refreshTotals.cancel();\n\n      _BaseClass.prototype.destructor.call(this);\n    };\n\n    return _temp;\n  }(BaseClass), _temp;\n};\n\nexport default createTable;","import createTable from \"./createTable\";\nimport FixedSizeList from \"./FixedSizeList\";\nexport default /*#__PURE__*/createTable(FixedSizeList);","import createTable from \"./createTable\";\nimport VariableSizeList from \"./VariableSizeList\";\nexport default /*#__PURE__*/createTable(VariableSizeList, function (instance) {\n  instance.prependListener(\"#rowsOrder\", instance.resetCache);\n});","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getRowProps } from \"../../utils/extraPropsGetters\";\n\nvar Row = function Row(_ref) {\n  var columns = _ref.columns,\n      CellComponent = _ref.CellComponent,\n      getRowData = _ref.getRowData,\n      getRowExtraProps = _ref.getRowExtraProps,\n      getCellExtraProps = _ref.getCellExtraProps,\n      rowDataIndex = _ref.rowDataIndex,\n      rowIndex = _ref.rowIndex;\n  var rowData = getRowData(rowDataIndex);\n  return /*#__PURE__*/React.createElement(\"tr\", getRowProps(rowData, rowIndex, rowDataIndex, getRowExtraProps), columns.map(function (column, columnIndex) {\n    if (column.visibility === \"hidden\") {\n      return null;\n    }\n\n    var FinalCellComponent = column.CellComponent || CellComponent;\n    return /*#__PURE__*/React.createElement(FinalCellComponent, {\n      key: column.dataKey,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      column: column,\n      columnIndex: columnIndex,\n      getCellExtraProps: column.getCellExtraProps || getCellExtraProps\n    });\n  }));\n};\n\nRow.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  columns: PropTypes.array.isRequired,\n  CellComponent: PropTypes.elementType.isRequired,\n  getRowData: PropTypes.func.isRequired,\n  rowIndex: PropTypes.number.isRequired,\n  rowDataIndex: PropTypes.number.isRequired,\n  getRowExtraProps: PropTypes.func,\n  getCellExtraProps: PropTypes.func\n} : {};\nexport default Row;","import React from \"react\";\n\nvar TotalsCell = function TotalsCell(_ref) {\n  var cellTotals = _ref.cellTotals,\n      totalsCache = _ref.totalsCache,\n      formatTotal = _ref.formatTotal;\n\n  if (!cellTotals || !totalsCache) {\n    return null;\n  }\n\n  if (cellTotals.length === 1) {\n    var summaryType = cellTotals[0];\n    var res = totalsCache[summaryType];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      title: summaryType,\n      className: \"afvscr-summary\"\n    }, formatTotal ? formatTotal(res) : res);\n  }\n\n  return cellTotals.map(function (summaryType) {\n    var res = totalsCache[summaryType];\n    return res !== undefined ? /*#__PURE__*/React.createElement(\"div\", {\n      key: summaryType,\n      className: \"afvscr-summary\"\n    }, summaryType, \":\\xA0\", formatTotal ? formatTotal(res) : res) : null;\n  });\n};\n\nexport default TotalsCell;","import React, { memo } from \"react\";\nimport useApiPlugin from \"../../useApi\";\nvar commonSubscribeEvents = [\"#columns\"];\nvar nonStickySubscribeEvents = /*#__PURE__*/[].concat(commonSubscribeEvents, [\"tbody-column-widths-changed\"]);\n\nvar Colgroup = function Colgroup(_ref) {\n  var useTbodyWidths = _ref.useTbodyWidths;\n\n  var _useApiPlugin = useApiPlugin(useTbodyWidths ? nonStickySubscribeEvents : commonSubscribeEvents),\n      columns = _useApiPlugin.columns,\n      tbodyColumnWidths = _useApiPlugin.tbodyColumnWidths;\n\n  return /*#__PURE__*/React.createElement(\"colgroup\", null, columns.map(function (_ref2, j) {\n    var dataKey = _ref2.dataKey,\n        background = _ref2.background,\n        visibility = _ref2.visibility,\n        border = _ref2.border,\n        width = _ref2.width;\n    return visibility !== \"hidden\" ? /*#__PURE__*/React.createElement(\"col\", {\n      key: dataKey,\n      style: {\n        width: useTbodyWidths ? tbodyColumnWidths[j] : width,\n        background: background,\n        border: border\n      }\n    }) : null;\n  }));\n};\n\nexport default /*#__PURE__*/memo(Colgroup);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from \"react\";\nimport useApi from \"../../../useApi\";\nimport Colgroup from \"../../common/Colgroup\";\nimport cx from \"../../../utils/cx\";\nvar SUBSCRIBE_EVENTS = [\"#columns\", \"#scrollLeft\", \"#widgetWidth\", \"tbody-column-widths-changed\"];\n\nvar TableWrapper = function TableWrapper(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"className\"]);\n\n  var _useApi = useApi(SUBSCRIBE_EVENTS),\n      scrollLeft = _useApi.scrollLeft,\n      columns = _useApi.columns,\n      tbodyColumnWidthsSum = _useApi.tbodyColumnWidthsSum;\n\n  var style = {\n    /* If we do this via transform translate, col background would have bugs during horizontal scroll. Strange webkit behavior */\n    marginLeft: -scrollLeft,\n    width: tbodyColumnWidthsSum\n  };\n  return /*#__PURE__*/React.createElement(\"table\", _extends({\n    className: cx(\"afvscr-nonst-subtable\", className)\n  }, props, {\n    style: style,\n    \"aria-colcount\": columns.length\n  }), /*#__PURE__*/React.createElement(Colgroup, {\n    useTbodyWidths: true\n  }), children);\n};\n\nexport default TableWrapper;","import React, { memo } from \"react\";\nimport useApi from \"../../useApi\";\nvar SUBSCRIBE_EVENTS = [\"#columns\", \"sort-params-changed\"];\nvar SortDirections = {\n  \"1\": \"ascending\",\n  \"-1\": \"descending\"\n};\n\nvar HeaderCells = function HeaderCells() {\n  var _useApi = useApi(SUBSCRIBE_EVENTS),\n      columns = _useApi.columns,\n      sortColumnIndex = _useApi.sortColumnIndex,\n      sortDirectionSign = _useApi.sortDirectionSign;\n\n  return columns.map(function (_ref, j) {\n    var dataKey = _ref.dataKey,\n        title = _ref.title,\n        sort = _ref.sort,\n        label = _ref.label,\n        visibility = _ref.visibility;\n    return visibility === \"hidden\" ? null : /*#__PURE__*/React.createElement(\"th\", {\n      key: dataKey,\n      title: title,\n      \"data-sortable\": sort ? \"\" : undefined,\n      \"aria-colindex\": j + 1,\n      \"aria-sort\": sortColumnIndex !== j ? \"none\" : SortDirections[sortDirectionSign]\n    }, label);\n  });\n};\n\nexport default /*#__PURE__*/memo(HeaderCells);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useCallback, memo } from \"react\";\nimport HeaderCells from \"./HeaderCells\";\nimport useApi from \"../../useApi\";\nvar SUBSCRIBE_EVENTS = [];\n\nvar Thead = function Thead(_ref) {\n  var trRef = _ref.trRef,\n      getCellStyle = _ref.getCellStyle,\n      props = _objectWithoutPropertiesLoose(_ref, [\"trRef\", \"getCellStyle\"]);\n\n  var API = useApi(SUBSCRIBE_EVENTS);\n  var clickHandler = useCallback(function (e) {\n    var colIndex = parseInt(e.target.getAttribute(\"aria-colindex\"), 10) - 1;\n\n    if (process.env.NODE_ENV !== \"production\" && Number.isNaN(colIndex)) {\n      throw new Error(\"colIndex attr missing\");\n    }\n\n    if (API.columns[colIndex].sort) {\n      var directionSign = e.target.getAttribute(\"aria-sort\") === \"ascending\" ? -1 : 1;\n      API.setSortParams(colIndex, directionSign);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"thead\", _extends({}, props, {\n    onClick: clickHandler\n  }), /*#__PURE__*/React.createElement(\"tr\", {\n    ref: trRef\n  }, /*#__PURE__*/React.createElement(HeaderCells, null)));\n};\n\nexport default /*#__PURE__*/memo(Thead);","import React, { memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport useApi from \"../../useApi\";\nvar SUBSCRIBE_EVENTS = [\"#columns\", \"#totals\", \"totals-calculated\"];\n\nvar FooterCells = function FooterCells(_ref) {\n  var TotalsCellComponent = _ref.TotalsCellComponent;\n\n  var _useApi = useApi(SUBSCRIBE_EVENTS),\n      columns = _useApi.columns,\n      totals = _useApi.totals,\n      totalsCache = _useApi.totalsCache;\n\n  return columns.map(function (_ref2, j) {\n    var dataKey = _ref2.dataKey,\n        formatTotal = _ref2.formatTotal,\n        visibility = _ref2.visibility;\n\n    if (visibility === \"hidden\") {\n      return null;\n    }\n\n    var curTotals = totals[dataKey];\n    var curTotalsCache = totalsCache[dataKey];\n    return /*#__PURE__*/React.createElement(\"td\", {\n      key: dataKey,\n      \"aria-colindex\": j + 1\n    }, /*#__PURE__*/React.createElement(TotalsCellComponent, {\n      cellTotals: curTotals,\n      totalsCache: curTotalsCache,\n      formatTotal: formatTotal\n    }));\n  });\n};\n\nFooterCells.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  TotalsCellComponent: PropTypes.elementType.isRequired\n} : {};\nexport default /*#__PURE__*/memo(FooterCells);","import React, { memo } from \"react\";\nimport FooterCells from \"./FooterCells\";\n\nvar Tfoot = function Tfoot(_ref) {\n  var className = _ref.className,\n      trRef = _ref.trRef,\n      TotalsCellComponent = _ref.TotalsCellComponent;\n  return /*#__PURE__*/React.createElement(\"tfoot\", {\n    className: className\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    ref: trRef\n  }, /*#__PURE__*/React.createElement(FooterCells, {\n    TotalsCellComponent: TotalsCellComponent\n  })));\n};\n\nexport default /*#__PURE__*/memo(Tfoot);","import React, { useEffect } from \"react\";\nimport useApi from \"../../useApi\";\nvar SUBSCRIBE_EVENTS = [\"#startIndex\", \"#endIndex\", \"#columns\", \"#rowsOrder\", \"#rowKeyGetter\", \"#rowDataGetter\"];\n\nvar getVisibleRows = function getVisibleRows(orderedRows, rangeFrom, rangeTo, columns, getRowData, getRowKey, getRowExtraProps, getCellExtraProps, RowComponent, CellComponent) {\n  var result = [];\n\n  for (var rowKey, idx; rangeFrom < rangeTo; rangeFrom++) {\n    idx = orderedRows[rangeFrom];\n    rowKey = getRowKey ? getRowKey(idx) : idx;\n    result.push( /*#__PURE__*/React.createElement(RowComponent, {\n      getRowExtraProps: getRowExtraProps,\n      getCellExtraProps: getCellExtraProps,\n      rowIndex: rangeFrom,\n      rowDataIndex: idx,\n      key: rowKey,\n      columns: columns,\n      getRowData: getRowData,\n      CellComponent: CellComponent\n    }));\n  }\n\n  return result;\n};\n\nvar Rows = function Rows(_ref) {\n  var getRowExtraProps = _ref.getRowExtraProps,\n      getCellExtraProps = _ref.getCellExtraProps,\n      RowComponent = _ref.RowComponent,\n      CellComponent = _ref.CellComponent;\n  var API = useApi(SUBSCRIBE_EVENTS);\n  useEffect(function () {\n    API.emit(\"rows-rendered\");\n  });\n  return getVisibleRows(API.orderedRows, API.startIndex, API.endIndex, API.columns, API.rowDataGetter, API.rowKeyGetter, getRowExtraProps, getCellExtraProps, RowComponent, CellComponent);\n};\n\nexport default Rows;","import React, { memo } from \"react\";\nimport Rows from \"./Rows\";\n\nvar Tbody = function Tbody(_ref) {\n  var getRowExtraProps = _ref.getRowExtraProps,\n      getCellExtraProps = _ref.getCellExtraProps,\n      tbodyRef = _ref.tbodyRef,\n      RowComponent = _ref.RowComponent,\n      CellComponent = _ref.CellComponent;\n  return /*#__PURE__*/React.createElement(\"tbody\", {\n    ref: tbodyRef\n  }, /*#__PURE__*/React.createElement(Rows, {\n    getRowExtraProps: getRowExtraProps,\n    getCellExtraProps: getCellExtraProps,\n    RowComponent: RowComponent,\n    CellComponent: CellComponent\n  }));\n};\n\nexport default /*#__PURE__*/memo(Tbody);","import React from \"react\";\nimport useApi from \"../../useApi\";\nvar SUBSCRIBE_EVENTS = [\"#totalRows\", \"#columns\"];\n\nvar BodyTable = function BodyTable(_ref) {\n  var children = _ref.children;\n  var API = useApi(SUBSCRIBE_EVENTS);\n  return /*#__PURE__*/React.createElement(\"table\", {\n    children: children,\n    className: \"afvscr-main-table\",\n    \"aria-rowcount\": API.totalRows,\n    \"aria-colcount\": API.columns.length\n  });\n};\n\nexport default BodyTable;","import { useRef, useEffect, useCallback } from \"react\";\n\nvar useColWidthsResizeObserver = function useColWidthsResizeObserver(API) {\n  var observerRef = useRef();\n  var mutationObserverRef = useRef();\n  var RO = observerRef.current;\n  var MO = mutationObserverRef.current;\n\n  if (!RO) {\n    RO = observerRef.current = new ResizeObserver(function (entries) {\n      for (var j = 0, colIndex; j < entries.length; j++) {\n        var target = entries[j].target;\n        colIndex = parseInt(target.getAttribute(\"aria-colindex\"));\n        /*\n            using target.offsetWidth instead of contentRect.width, because we need border-box sizing, \n            and { box: border-box } option does not work here\n        */\n\n        API.tbodyColumnWidths[colIndex - 1] = Math.round(target.offsetWidth);\n      }\n\n      API.emit(\"tbody-column-widths-changed\");\n    });\n    MO = mutationObserverRef.current = new MutationObserver(function (entries) {\n      for (var i = 0; i < entries.length; i++) {\n        var _entries$i = entries[i],\n            addedNodes = _entries$i.addedNodes,\n            removedNodes = _entries$i.removedNodes;\n\n        for (var j = 0; j < addedNodes.length; j++) {\n          RO.observe(addedNodes[j]);\n        }\n\n        for (var _j = 0; _j < removedNodes.length; _j++) {\n          RO.unobserve(removedNodes[_j]);\n        }\n      }\n    });\n  }\n\n  useEffect(function () {\n    return function () {\n      RO.disconnect();\n      MO.disconnect();\n    };\n  }, []);\n  /* callback ref */\n\n  return useCallback(function (trNode) {\n    MO.disconnect();\n    RO.disconnect();\n\n    if (trNode) {\n      MO.observe(trNode, {\n        childList: true\n      });\n    }\n  }, []);\n};\n\nexport default useColWidthsResizeObserver;","import React from \"react\";\nimport Scroller from \"../../common/Scroller\";\n/*\n    According to specs, tr must always be inside tbody, thead or tfoot                \n*/\n\nvar TbodyScroller = function TbodyScroller() {\n  return /*#__PURE__*/React.createElement(\"tbody\", {\n    className: \"afvscr-scroller\",\n    \"aria-hidden\": \"true\"\n  }, /*#__PURE__*/React.createElement(Scroller, {\n    Component: \"tr\"\n  }));\n};\n\nexport default TbodyScroller;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport useApi from \"../../useApi\";\nimport TableWrapper from \"./TableWrapper\";\nimport Thead from \"../common/Thead\";\nimport Tfoot from \"../common/Tfoot\";\nimport Tbody from \"../common/Tbody\";\nimport BodyTable from \"../common/BodyTable\";\nimport useColWidthsResizeObserver from \"./useColWidthsResizeObserver\";\nimport Colgroup from \"../common/Colgroup\";\nimport TbodyScroller from \"../common/TbodyScroller\";\nimport ScrollContainer from \"../../common/ScrollContainer\";\nimport cx from \"../../utils/cx\";\nvar subscribeEvents = [\"#headlessMode\", \"#totals\"];\n\nvar NonSticky = function NonSticky(_ref) {\n  var className = _ref.className,\n      tbodyRef = _ref.tbodyRef,\n      scrollContainerRef = _ref.scrollContainerRef,\n      getRowExtraProps = _ref.getRowExtraProps,\n      getCellExtraProps = _ref.getCellExtraProps,\n      RowComponent = _ref.RowComponent,\n      CellComponent = _ref.CellComponent,\n      TotalsCellComponent = _ref.TotalsCellComponent,\n      onScroll = _ref.onScroll,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\", \"tbodyRef\", \"scrollContainerRef\", \"getRowExtraProps\", \"getCellExtraProps\", \"RowComponent\", \"CellComponent\", \"TotalsCellComponent\", \"onScroll\"]);\n\n  var API = useApi(subscribeEvents);\n  var headlessMode = API.headlessMode,\n      totals = API.totals;\n  /*\n      Hidden tfoot & thead are needed to 'hold' widths of tbody columns no to be narrower than real thead/tfoot\n      and notify model about columns width changes.\n      There are 3 tables rendered in this mode, so their column widths need to be synced somehow.\n  */\n\n  var widthsObserverRef = useColWidthsResizeObserver(API);\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (headlessMode && !totals) {\n      console.warn(\"NonSticky table is rendered without headers and footers. This is not ok.\");\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: cx(\"afvscr-nonst\", className)\n  }, props), headlessMode ? null : /*#__PURE__*/React.createElement(TableWrapper, null, /*#__PURE__*/React.createElement(Thead, null)), /*#__PURE__*/React.createElement(ScrollContainer, {\n    ref: scrollContainerRef,\n    onScroll: onScroll,\n    reportScrollLeft: true\n  }, /*#__PURE__*/React.createElement(BodyTable, null, /*#__PURE__*/React.createElement(Colgroup, null), headlessMode ? null : /*#__PURE__*/React.createElement(Thead, {\n    className: \"afvscr-hdnwrp\",\n    trRef: widthsObserverRef\n  }), totals && /*#__PURE__*/React.createElement(Tfoot, {\n    TotalsCellComponent: TotalsCellComponent,\n    className: \"afvscr-hdnwrp\",\n    trRef: headlessMode ? widthsObserverRef : undefined\n  }), /*#__PURE__*/React.createElement(TbodyScroller, null), /*#__PURE__*/React.createElement(Tbody, {\n    tbodyRef: tbodyRef,\n    getRowExtraProps: getRowExtraProps,\n    getCellExtraProps: getCellExtraProps,\n    RowComponent: RowComponent,\n    CellComponent: CellComponent\n  }))), totals && /*#__PURE__*/React.createElement(TableWrapper, null, /*#__PURE__*/React.createElement(Tfoot, {\n    TotalsCellComponent: TotalsCellComponent\n  })));\n};\n\nexport default /*#__PURE__*/memo(NonSticky);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { memo, useEffect } from \"react\";\nimport Colgroup from \"../common/Colgroup\";\nimport TbodyScroller from \"../common/TbodyScroller\";\nimport ScrollContainer from \"../../common/ScrollContainer\";\nimport Thead from \"../common/Thead\";\nimport Tbody from \"../common/Tbody\";\nimport Tfoot from \"../common/Tfoot\";\nimport BodyTable from \"../common/BodyTable\";\nimport useApi from \"../../useApi\";\nimport cx from \"../../utils/cx\";\nvar SUBSCRIBE_EVENTS = [\"#headlessMode\", \"#totals\"];\n/*\n    Todo:\n        measure thead & tfoot heights in order to properly calculate available space for rows\n*/\n\nvar Sticky = function Sticky(_ref) {\n  var tbodyRef = _ref.tbodyRef,\n      scrollContainerRef = _ref.scrollContainerRef,\n      getRowExtraProps = _ref.getRowExtraProps,\n      getCellExtraProps = _ref.getCellExtraProps,\n      RowComponent = _ref.RowComponent,\n      CellComponent = _ref.CellComponent,\n      TotalsCellComponent = _ref.TotalsCellComponent,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"tbodyRef\", \"scrollContainerRef\", \"getRowExtraProps\", \"getCellExtraProps\", \"RowComponent\", \"CellComponent\", \"TotalsCellComponent\", \"className\"]);\n\n  var _useApi = useApi(SUBSCRIBE_EVENTS),\n      headlessMode = _useApi.headlessMode,\n      totals = _useApi.totals;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    /*\n        https://bugs.chromium.org/p/chromium/issues/detail?id=702927\n    */\n    var areTotalsPresent = totals && totals.length !== 0;\n    useEffect(function () {\n      if (!headlessMode || areTotalsPresent) {\n        /* TODO: tests fail without this if */\n        if (scrollContainerRef.current) {\n          var table = scrollContainerRef.current.querySelector(\"table\");\n          var tableStyle = getComputedStyle(table);\n\n          if (tableStyle.borderCollapse === \"collapse\") {\n            console.warn(\"You use sticky table version. Due to special border behavior when scrolling, use border-collpase: separate.%o\", \"https://bugs.chromium.org/p/chromium/issues/detail?id=702927\");\n          }\n        }\n      }\n    }, [headlessMode, areTotalsPresent]);\n  }\n\n  return /*#__PURE__*/React.createElement(ScrollContainer, _extends({\n    ref: scrollContainerRef,\n    reportScrollLeft: true,\n    className: cx(\"afvscr-st\", className)\n  }, props), /*#__PURE__*/React.createElement(BodyTable, null, /*#__PURE__*/React.createElement(Colgroup, null), headlessMode ? null : /*#__PURE__*/React.createElement(Thead, null), /*#__PURE__*/React.createElement(TbodyScroller, null), /*#__PURE__*/React.createElement(Tbody, {\n    tbodyRef: tbodyRef,\n    getRowExtraProps: getRowExtraProps,\n    getCellExtraProps: getCellExtraProps,\n    RowComponent: RowComponent,\n    CellComponent: CellComponent\n  }), totals && /*#__PURE__*/React.createElement(Tfoot, {\n    TotalsCellComponent: TotalsCellComponent\n  })));\n};\n\nexport default /*#__PURE__*/memo(Sticky);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { memo, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport isPositionStickySupported from \"../utils/isPositionStickySupported\";\nimport Context from \"../Context\";\nimport useStore from \"../utils/useStore\";\nimport FixedSizeTableStore from \"../models/FixedSizeTable\";\nimport VariableSizeTableStore from \"../models/VariableSizeTable\";\nimport RowComponentDefault from \"./common/Row\";\nimport CellComponentDefault from \"./common/Cell\";\nimport TotalsCellComponentDefault from \"./common/TotalsCell\";\nimport RowCountWarningContainerDefault from \"../common/RowCountWarningContainer\";\nimport NonStickyComponent from \"./NonSticky\";\nimport StickyComponent from \"./Sticky\";\nimport commonPropTypes from \"../commonPropTypes\";\nimport commonDefaultProps from \"../commonDefaultProps\";\nimport cx from \"../utils/cx\";\n\nvar Table = function Table(_ref) {\n  var fixedSize = _ref.fixedSize,\n      columns = _ref.columns,\n      totals = _ref.totals,\n      getRowData = _ref.getRowData,\n      getRowKey = _ref.getRowKey,\n      getRowExtraProps = _ref.getRowExtraProps,\n      getCellExtraProps = _ref.getCellExtraProps,\n      rowCount = _ref.rowCount,\n      overscanRowsCount = _ref.overscanRowsCount,\n      rowCountWarningsTable = _ref.rowCountWarningsTable,\n      headless = _ref.headless,\n      RowCountWarningContainer = _ref.RowCountWarningContainer,\n      dataRef = _ref.dataRef,\n      nonSticky = _ref.nonSticky,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"fixedSize\", \"columns\", \"totals\", \"getRowData\", \"getRowKey\", \"getRowExtraProps\", \"getCellExtraProps\", \"rowCount\", \"overscanRowsCount\", \"rowCountWarningsTable\", \"headless\", \"RowCountWarningContainer\", \"dataRef\", \"nonSticky\", \"className\"]);\n\n  var scrollContainerRef = useRef();\n  var tbodyRef = useRef();\n  var Store = useStore(fixedSize ? FixedSizeTableStore : VariableSizeTableStore, dataRef);\n  useEffect(function () {\n    Store.merge({\n      headlessMode: headless,\n      rowDataGetter: getRowData,\n      rowKeyGetter: getRowKey,\n      overscanRowsCount: overscanRowsCount,\n      totals: totals,\n      columns: columns,\n      totalRows: Math.max(rowCount, 0),\n      rowsContainerNode: tbodyRef.current,\n      scrollContainerNode: scrollContainerRef.current\n    });\n  });\n  /*\n      Only cells inside thead/tfoot can be sticky.\n      If thead/tfoot are hidden - we can easily render lighter StickyComponent to avoid extra wrappers\n  */\n\n  var ComponentVariant = headless && !totals || !nonSticky && isPositionStickySupported() ? StickyComponent : NonStickyComponent;\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: Store\n  }, rowCount > 0 ? /*#__PURE__*/React.createElement(ComponentVariant, _extends({\n    className: cx(\"afvscr-table-wrapper\", className),\n    scrollContainerRef: scrollContainerRef,\n    getRowExtraProps: getRowExtraProps,\n    getCellExtraProps: getCellExtraProps,\n    tbodyRef: tbodyRef\n  }, props)) : rowCountWarningsTable ? /*#__PURE__*/React.createElement(RowCountWarningContainer, null, rowCountWarningsTable[rowCount]) : null);\n};\n\nTable.propTypes = process.env.NODE_ENV !== \"production\" ? /*#__PURE__*/Object.assign({}, commonPropTypes, {\n  columns: /*#__PURE__*/PropTypes.arrayOf( /*#__PURE__*/PropTypes.shape({\n    // unique key for column\n    dataKey: PropTypes.string.isRequired,\n    // for details see CellComponent implementation\n    getCellData: PropTypes.func,\n    getEmptyCellData: PropTypes.func,\n    format: PropTypes.func,\n    render: PropTypes.func,\n    formatTotal: PropTypes.func,\n    visibility: /*#__PURE__*/PropTypes.oneOf([\"visible\", \"hidden\"]),\n    sort: /*#__PURE__*/PropTypes.oneOf([\"locale\", \"numeric\"]),\n    // column props, affecting colgroup > col tags\n    background: PropTypes.string,\n    border: PropTypes.string,\n    width: /*#__PURE__*/PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    CellComponent: PropTypes.elementType,\n    getCellExtraProps: PropTypes.func\n  })).isRequired,\n  getCellExtraProps: PropTypes.func,\n  totals: /*#__PURE__*/PropTypes.objectOf( // array may contain: \"sum\", \"average\", \"count\", \"max\", \"min\"\n  PropTypes.array),\n  nonSticky: PropTypes.bool,\n  headless: PropTypes.bool,\n  HeaderRowComponent: PropTypes.elementType,\n  CellComponent: PropTypes.elementType,\n  TotalsCellComponent: PropTypes.elementType,\n  RowCountWarningContainer: PropTypes.elementType,\n  rowCountWarningsTable: PropTypes.object\n}) : {};\nTable.defaultProps = /*#__PURE__*/Object.assign({}, commonDefaultProps, {\n  headless: false,\n  //    For 90% non-reactive solutions, which only provide new getRowData when data is changed, memo is ok.\n  //    If RowComponent should be wrapped my mobx observer - non-memo version should be imported.\n  //    memo(observer(RowComponentDefault)) will do the trick.\n  RowComponent: /*#__PURE__*/memo(RowComponentDefault),\n  CellComponent: CellComponentDefault,\n  TotalsCellComponent: TotalsCellComponentDefault,\n  RowCountWarningContainer: RowCountWarningContainerDefault\n});\nexport default /*#__PURE__*/memo(Table);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getRowProps } from \"../../utils/extraPropsGetters\";\n\nvar Row = function Row(_ref) {\n  var getRowData = _ref.getRowData,\n      getRowExtraProps = _ref.getRowExtraProps,\n      rowIndex = _ref.rowIndex;\n  var rowData = getRowData(rowIndex);\n  return /*#__PURE__*/React.createElement(\"div\", getRowProps(rowData, rowIndex, rowIndex, getRowExtraProps), rowData);\n};\n\nRow.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  getRowData: PropTypes.func.isRequired,\n  rowIndex: PropTypes.number.isRequired,\n  getRowExtraProps: PropTypes.func\n} : {};\nexport default Row;","import React, { useEffect } from \"react\";\nimport useApi from \"../../useApi\";\nvar SUBSCRIBE_EVENTS = [\"#startIndex\", \"#endIndex\", \"#rowKeyGetter\", \"#rowDataGetter\"];\n\nvar getVisibleRows = function getVisibleRows(rangeFrom, rangeTo, getRowData, getRowKey, getRowExtraProps, RowComponent) {\n  var result = [];\n\n  for (var rowKey; rangeFrom < rangeTo; rangeFrom++) {\n    rowKey = getRowKey ? getRowKey(rangeFrom) : rangeFrom;\n    result.push( /*#__PURE__*/React.createElement(RowComponent, {\n      getRowExtraProps: getRowExtraProps,\n      rowIndex: rangeFrom,\n      key: rowKey,\n      getRowData: getRowData\n    }));\n  }\n\n  return result;\n};\n\nvar Rows = function Rows(_ref) {\n  var getRowExtraProps = _ref.getRowExtraProps,\n      RowComponent = _ref.RowComponent;\n  var API = useApi(SUBSCRIBE_EVENTS);\n  useEffect(function () {\n    API.emit(\"rows-rendered\");\n  });\n  return getVisibleRows(API.startIndex, API.endIndex, API.rowDataGetter, API.rowKeyGetter, getRowExtraProps, RowComponent);\n};\n\nexport default Rows;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { memo, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Context from \"../Context\";\nimport useStore from \"../utils/useStore\";\nimport VariableSizeListStore from \"../models/VariableSizeList\";\nimport FixedSizeListStore from \"../models/FixedSizeList\";\nimport ScrollContainer from \"../common/ScrollContainer\";\nimport RowComponentDefault from \"./common/Row\";\nimport Rows from \"./common/Rows\";\nimport Scroller from \"../common/Scroller\";\nimport RowCountWarningContainerDefault from \"../common/RowCountWarningContainer\";\nimport commonPropTypes from \"../commonPropTypes\";\nimport commonDefaultProps from \"../commonDefaultProps\";\nimport cx from \"../utils/cx\";\n\nvar List = function List(_ref) {\n  var fixedSize = _ref.fixedSize,\n      getRowData = _ref.getRowData,\n      getRowKey = _ref.getRowKey,\n      getRowExtraProps = _ref.getRowExtraProps,\n      rowCount = _ref.rowCount,\n      overscanRowsCount = _ref.overscanRowsCount,\n      rowCountWarningsTable = _ref.rowCountWarningsTable,\n      RowCountWarningContainer = _ref.RowCountWarningContainer,\n      _ref$RowComponent = _ref.RowComponent,\n      RowComponent = _ref$RowComponent === void 0 ? RowComponentDefault : _ref$RowComponent,\n      dataRef = _ref.dataRef,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"fixedSize\", \"getRowData\", \"getRowKey\", \"getRowExtraProps\", \"rowCount\", \"overscanRowsCount\", \"rowCountWarningsTable\", \"RowCountWarningContainer\", \"RowComponent\", \"dataRef\", \"className\"]);\n\n  var scrollContainerRef = useRef();\n  var rowsContainerRef = useRef();\n  var Store = useStore(fixedSize ? FixedSizeListStore : VariableSizeListStore, dataRef);\n  useEffect(function () {\n    Store.merge({\n      rowDataGetter: getRowData,\n      rowKeyGetter: getRowKey,\n      overscanRowsCount: overscanRowsCount,\n      totalRows: rowCount,\n      rowsContainerNode: rowsContainerRef.current,\n      scrollContainerNode: scrollContainerRef.current\n    });\n  });\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: Store\n  }, rowCount > 0 ? /*#__PURE__*/React.createElement(ScrollContainer, _extends({\n    className: cx(\"afvscr-list-wrapper\", className),\n    ref: scrollContainerRef\n  }, props), /*#__PURE__*/React.createElement(Scroller, {\n    Component: \"div\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: rowsContainerRef\n  }, /*#__PURE__*/React.createElement(Rows, {\n    RowComponent: RowComponent,\n    getRowExtraProps: getRowExtraProps\n  }))) : rowCountWarningsTable ? /*#__PURE__*/React.createElement(RowCountWarningContainer, null, rowCountWarningsTable[rowCount]) : null);\n};\n\nList.propTypes = process.env.NODE_ENV !== \"production\" ? /*#__PURE__*/Object.assign({}, commonPropTypes, {\n  RowCountWarningContainer: PropTypes.elementType,\n  rowCountWarningsTable: PropTypes.object\n}) : {};\nList.defaultProps = /*#__PURE__*/Object.assign({}, commonDefaultProps, {\n  /*\n      For 90% non-reactive solutions, which only provide new getRowData when data is changed, memo is ok.\n      If RowComponent should be wrapped my mobx observer - non-memo version should be imported.\n      memo(observer(RowComponentDefault)) will do the trick.\n  */\n  RowComponent: /*#__PURE__*/memo(RowComponentDefault),\n  RowCountWarningContainer: RowCountWarningContainerDefault\n});\nexport default /*#__PURE__*/memo(List);"],"sourceRoot":""}