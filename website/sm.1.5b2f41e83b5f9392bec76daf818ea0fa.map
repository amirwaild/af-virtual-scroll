{"version":3,"sources":["webpack:///./lib/useApi/index.js","webpack:///./lib/Context.js","webpack:///./lib/common/HeightProvider.js","webpack:///./lib/common/ScrollContainer.js","webpack:///./lib/utils/useStore/index.js","webpack:///./lib/common/Scroller.js","webpack:///./lib/utils/getRowProps/index.js","webpack:///./lib/common/RowCountWarningContainer.js","webpack:///./lib/models/EventEmitter/index.js","webpack:///./lib/models/FixedSizeList/index.js","webpack:///./lib/models/VariableSizeList/treeUtils/index.js","webpack:///./lib/models/VariableSizeList/index.js"],"names":["reducer","x","useApi","subscribeEvents","API","useContext","Context","up","useReducer","useLayoutEffect","j","length","on","_j","off","createContext","SUBSCRIBE_EVENTS","heightProviderClass","name","styles","el","React","createElement","className","memo","props","style","height","widgetScrollHeight","cloneElement","scrollContainerClass","ScrollContainer","forwardRef","_ref","ref","children","onScroll","reportScrollLeft","_objectWithoutPropertiesLoose","scrollHandler","useCallback","e","_e$target","target","scrollTop","scrollLeft","set","resizeHandler","_ref2","width","useResizeObserver","onResize","_extends","tabIndex","HeightProvider","FIRE_EFFECT_ONLY_ONCE","useStore","StoreConstructor","dataRef","finalDataRef","useRef","Store","current","useEffect","destructor","Component","virtualTopOffset","useApiPlugin","visibility","getRowProps","rowData","rowIndex","getRowExtraProps","extraProps","rowDataIndex","Object","assign","wrapperClass","RowCountWarningContainer","EventEmitter","this","_T","create","_proto","prototype","_a","eventName","_fn","prepend","once","eventsQueue","that","originalFn","apply","arguments","fn","prependListener","prependOnceListener","idx","indexOf","splice","emit","a1","a2","a3","a4","i","evt","argsArr","argLen","call","Array","removeAllListeners","removeListener","addListener","getRowDataInitial","Error","FixedSizeList","_EventEmitter","_inheritsLoose","_this","totalRows","startIndex","endIndex","overscanRowsCount","rowHeight","widgetHeight","widgetWidth","rowKeyGetter","undefined","rowDataGetter","rowsContainerNode","scrollContainerNode","updateWidgetScrollHeight","updateEndIndex","updateStartOffset","paramName","paramValue","merge","params","k","newVisibleStartIndex","remainder","newStartIndex","Math","max","overscanOffset","newTopOffset","newVisibleEndIndex","ceil","newEndIndex","min","reportRowsRendered","getNodeScrollTopForRowIndex","clampedRowIndex","scrollToRow","index","node","clamp","scrollToStart","walkUntil","dist","tree","v","N","nodeIndex","sum","l","r","res","calculateParentsInRange","DEFAULT_HEIGHS_CACHE","VariableSizeList","_FixedSizeList","estimatedRowHeight","heighsCache","setVisibleRowsHeights","debounce","newHeight","child","firstElementChild","nextElementSibling","parseInt","getAttribute","offsetHeight","_assertThisInitialized","maxWait","increaseEndIndexIfNeeded","currentVisibleDist","resetMeasurementsCache","cancel","_walkUntil","defaultValue","pow","log2","Uint32Array","fill"],"mappings":"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","file":"1.d11aec469e33022f3878.js","sourcesContent":["import { useContext, useLayoutEffect, useReducer } from \"react\";\nimport Context from \"../Context\";\n\nvar reducer = function reducer(x) {\n  return x + 1;\n};\n/*\n\tTODO:\n\t\twhy useEffect does not properly update colgroup of tbody, when rowcount changes from 0 to positive value?\n*/\n\n\nvar useApi = function useApi(subscribeEvents) {\n  var API = useContext(Context);\n\n  var _useReducer = useReducer(reducer, 0),\n      up = _useReducer[1];\n\n  useLayoutEffect(function () {\n    for (var j = 0; j < subscribeEvents.length; j++) {\n      API.on(subscribeEvents[j], up);\n    }\n\n    return function () {\n      for (var _j = 0; _j < subscribeEvents.length; _j++) {\n        API.off(subscribeEvents[_j], up);\n      }\n    };\n  }, subscribeEvents);\n  return API;\n};\n\nexport default useApi;","import { createContext } from \"react\";\nexport default createContext();","import { css as _css } from \"emotion\";\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\nimport React, { cloneElement, memo } from \"react\";\nimport useApi from \"../useApi\";\nvar SUBSCRIBE_EVENTS = [\"#widgetScrollHeight\"];\n\nvar heightProviderClass = /*#__PURE__*/_css(process.env.NODE_ENV === \"production\" ? {\n  name: \"18yz6zz-heightProviderClass\",\n  styles: \"position:absolute;top:0;left:0;visibility:hidden;width:1px;;label:heightProviderClass;\"\n} : {\n  name: \"18yz6zz-heightProviderClass\",\n  styles: \"position:absolute;top:0;left:0;visibility:hidden;width:1px;;label:heightProviderClass;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tb24vSGVpZ2h0UHJvdmlkZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBTStCIiwiZmlsZSI6Ii4uLy4uL3NyYy9jb21tb24vSGVpZ2h0UHJvdmlkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY2xvbmVFbGVtZW50LCBtZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjc3MgfSBmcm9tIFwiZW1vdGlvblwiO1xuaW1wb3J0IHVzZUFwaSBmcm9tIFwiLi4vdXNlQXBpXCI7XG5cbmNvbnN0IFNVQlNDUklCRV9FVkVOVFMgPSBbIFwiI3dpZGdldFNjcm9sbEhlaWdodFwiIF07XG5cbmNvbnN0IGhlaWdodFByb3ZpZGVyQ2xhc3MgPSBjc3NgXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICB3aWR0aDogMXB4O1xuYDtcblxuY29uc3QgZWwgPSA8ZGl2IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGNsYXNzTmFtZT17aGVpZ2h0UHJvdmlkZXJDbGFzc30gLz47XG5cbmNvbnN0IEhlaWdodFByb3ZpZGVyID0gKCkgPT4ge1xuXG4gICAgY29uc3QgeyB3aWRnZXRTY3JvbGxIZWlnaHQ6IGhlaWdodCB9ID0gdXNlQXBpKCBTVUJTQ1JJQkVfRVZFTlRTICk7XG5cbiAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGhlaWdodFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBjbG9uZUVsZW1lbnQoIGVsLCBwcm9wcyApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbWVtbyggSGVpZ2h0UHJvdmlkZXIgKTsiXX0= */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});\n\nvar el = React.createElement(\"div\", {\n  \"aria-hidden\": \"true\",\n  className: heightProviderClass\n});\n\nvar HeightProvider = function HeightProvider() {\n  var _useApi = useApi(SUBSCRIBE_EVENTS),\n      height = _useApi.widgetScrollHeight;\n\n  var props = {\n    style: {\n      height: height\n    }\n  };\n  return cloneElement(el, props);\n};\n\nexport default memo(HeightProvider);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport { cx as _cx } from \"emotion\";\nimport { css as _css } from \"emotion\";\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\nimport React, { forwardRef, useCallback } from \"react\";\nimport useResizeObserver from \"use-resize-observer\";\nimport HeightProvider from \"./HeightProvider\";\nimport useApi from \"../useApi\";\nvar SUBSCRIBE_EVENTS = [];\n/*\n    * flex: 1 1 auto, assuming that table would be used full-stretch mostly\n    width: 100% covers case, when no tbody is rendered and exact width cannot be calculated\n*/\n\nvar scrollContainerClass = /*#__PURE__*/_css(process.env.NODE_ENV === \"production\" ? {\n  name: \"13rh01w-scrollContainerClass\",\n  styles: \"overflow:auto;outline:none;min-height:0;flex:1 1 auto;position:relative;;label:scrollContainerClass;\"\n} : {\n  name: \"13rh01w-scrollContainerClass\",\n  styles: \"overflow:auto;outline:none;min-height:0;flex:1 1 auto;position:relative;;label:scrollContainerClass;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tb24vU2Nyb2xsQ29udGFpbmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVlnQyIsImZpbGUiOiIuLi8uLi9zcmMvY29tbW9uL1Njcm9sbENvbnRhaW5lci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHVzZVJlc2l6ZU9ic2VydmVyIGZyb20gXCJ1c2UtcmVzaXplLW9ic2VydmVyXCI7XG5pbXBvcnQgeyBjc3MsIGN4IH0gZnJvbSBcImVtb3Rpb25cIjtcbmltcG9ydCBIZWlnaHRQcm92aWRlciBmcm9tIFwiLi9IZWlnaHRQcm92aWRlclwiO1xuaW1wb3J0IHVzZUFwaSBmcm9tIFwiLi4vdXNlQXBpXCI7XG5cbmNvbnN0IFNVQlNDUklCRV9FVkVOVFMgPSBbXTtcblxuLypcbiAgICAqIGZsZXg6IDEgMSBhdXRvLCBhc3N1bWluZyB0aGF0IHRhYmxlIHdvdWxkIGJlIHVzZWQgZnVsbC1zdHJldGNoIG1vc3RseVxuICAgIHdpZHRoOiAxMDAlIGNvdmVycyBjYXNlLCB3aGVuIG5vIHRib2R5IGlzIHJlbmRlcmVkIGFuZCBleGFjdCB3aWR0aCBjYW5ub3QgYmUgY2FsY3VsYXRlZFxuKi9cbmNvbnN0IHNjcm9sbENvbnRhaW5lckNsYXNzID0gY3NzYFxuICAgIG92ZXJmbG93OiBhdXRvO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgbWluLWhlaWdodDogMDtcbiAgICBmbGV4OiAxIDEgYXV0bztcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5gO1xuXG5jb25zdCBTY3JvbGxDb250YWluZXIgPSBmb3J3YXJkUmVmKCh7XG4gICAgY2xhc3NOYW1lLFxuICAgIGNoaWxkcmVuLFxuICAgIG9uU2Nyb2xsLFxuICAgIHJlcG9ydFNjcm9sbExlZnQsXG4gICAgLi4ucHJvcHNcbn0sIHJlZiApID0+IHtcblxuICAgIGNvbnN0IEFQSSA9IHVzZUFwaSggU1VCU0NSSUJFX0VWRU5UUyApO1xuXG4gICAgY29uc3Qgc2Nyb2xsSGFuZGxlciA9IHVzZUNhbGxiYWNrKCBlID0+IHtcbiAgICAgICAgY29uc3QgeyBzY3JvbGxUb3AsIHNjcm9sbExlZnQgfSA9IGUudGFyZ2V0O1xuICAgICAgICBBUEkuc2V0KCBcInNjcm9sbFRvcFwiLCBzY3JvbGxUb3AgKTtcbiAgICAgICAgaWYoIHJlcG9ydFNjcm9sbExlZnQgKXtcbiAgICAgICAgICAgIEFQSS5zZXQoIFwic2Nyb2xsTGVmdFwiLCBzY3JvbGxMZWZ0ICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIG9uU2Nyb2xsICl7XG4gICAgICAgICAgICBvblNjcm9sbCggZSApO1xuICAgICAgICB9XG4gICAgfSwgWyBvblNjcm9sbCwgcmVwb3J0U2Nyb2xsTGVmdCBdKTtcblxuICAgIGNvbnN0IHJlc2l6ZUhhbmRsZXIgPSB1c2VDYWxsYmFjaygoeyB3aWR0aCwgaGVpZ2h0IH0pID0+IHtcbiAgICAgICAgQVBJLnNldCggXCJ3aWRnZXRIZWlnaHRcIiwgaGVpZ2h0ICkuc2V0KCBcIndpZGdldFdpZHRoXCIsIHdpZHRoICk7XG4gICAgfSwgW10pO1xuXG4gICAgdXNlUmVzaXplT2JzZXJ2ZXIoeyByZWYsIG9uUmVzaXplOiByZXNpemVIYW5kbGVyIH0pO1xuICAgIFxuICAgIC8qXG4gICAgICAgIHRhYkluZGV4PVwiMFwiIGlzIGZvciBwcm9wZXIga2V5Ym9hcmQgbmF2XG4gICAgICAgIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEzNDYxNTlcbiAgICAqL1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgdGFiSW5kZXg9XCIwXCIgY2xhc3NOYW1lPXtjeChzY3JvbGxDb250YWluZXJDbGFzcyxjbGFzc05hbWUpfSByZWY9e3JlZn0gb25TY3JvbGw9e3Njcm9sbEhhbmRsZXJ9IHsuLi5wcm9wc30+XG4gICAgICAgICAgICA8SGVpZ2h0UHJvdmlkZXIgLz5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTY3JvbGxDb250YWluZXI7Il19 */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});\n\nvar ScrollContainer = forwardRef(function (_ref, ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      onScroll = _ref.onScroll,\n      reportScrollLeft = _ref.reportScrollLeft,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\", \"children\", \"onScroll\", \"reportScrollLeft\"]);\n\n  var API = useApi(SUBSCRIBE_EVENTS);\n  var scrollHandler = useCallback(function (e) {\n    var _e$target = e.target,\n        scrollTop = _e$target.scrollTop,\n        scrollLeft = _e$target.scrollLeft;\n    API.set(\"scrollTop\", scrollTop);\n\n    if (reportScrollLeft) {\n      API.set(\"scrollLeft\", scrollLeft);\n    }\n\n    if (onScroll) {\n      onScroll(e);\n    }\n  }, [onScroll, reportScrollLeft]);\n  var resizeHandler = useCallback(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    API.set(\"widgetHeight\", height).set(\"widgetWidth\", width);\n  }, []);\n  useResizeObserver({\n    ref: ref,\n    onResize: resizeHandler\n  });\n  /*\n      tabIndex=\"0\" is for proper keyboard nav\n      https://bugzilla.mozilla.org/show_bug.cgi?id=1346159\n  */\n\n  return React.createElement(\"div\", _extends({\n    tabIndex: \"0\",\n    className: _cx(scrollContainerClass, className),\n    ref: ref,\n    onScroll: scrollHandler\n  }, props), React.createElement(HeightProvider, null), children);\n});\nexport default ScrollContainer;","import { useRef, useEffect } from \"react\";\nvar FIRE_EFFECT_ONLY_ONCE = [];\n/*\n    dataRef is to call Data methods from outside( Data.scrollTo(), etc. ).\n    As it is not dom-related, I decided to avoid forwardRef\n*/\n\nvar useStore = function useStore(StoreConstructor, dataRef) {\n  var finalDataRef = useRef();\n  var Store = finalDataRef.current;\n\n  if (!Store) {\n    Store = finalDataRef.current = new StoreConstructor();\n\n    if (dataRef) {\n      dataRef.current = Store;\n    }\n  }\n\n  useEffect(function () {\n    return function () {\n      Store.destructor();\n    };\n  }, FIRE_EFFECT_ONLY_ONCE);\n  return Store;\n};\n\nexport default useStore;","import React, { memo } from \"react\";\nimport useApiPlugin from \"../useApi\";\nvar SUBSCRIBE_EVENTS = [\"#virtualTopOffset\"];\n\nvar Scroller = function Scroller(_ref) {\n  var Component = _ref.Component;\n\n  var _useApiPlugin = useApiPlugin(SUBSCRIBE_EVENTS),\n      virtualTopOffset = _useApiPlugin.virtualTopOffset;\n  /*\n      Hmm, I can't put here more than ~ 3 000 000. Maybe need to put one more row in case this height is > 3 000 000\n  */\n\n\n  return React.createElement(Component, {\n    \"aria-hidden\": \"true\",\n    style: {\n      height: virtualTopOffset,\n      visibility: \"hidden\"\n    }\n  });\n};\n\nexport default memo(Scroller);","var getRowProps = function getRowProps(rowData, rowIndex, getRowExtraProps) {\n  /* avoiding double destructurization via getRowExtraProps, so making prop object once */\n  var props = {\n    \"aria-rowindex\": rowIndex + 1\n  };\n\n  if (getRowExtraProps) {\n    var extraProps = getRowExtraProps(rowData, rowDataIndex);\n\n    if (extraProps) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (extraProps.hasOwnProperty(\"aria-rowindex\")) {\n          throw new Error(\"getExtraProps must not override aria-rowindex\");\n        }\n      }\n\n      Object.assign(props, extraProps);\n    }\n  }\n\n  return props;\n};\n\nexport default getRowProps;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport { cx as _cx } from \"emotion\";\nimport { css as _css } from \"emotion\";\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\nimport React from \"react\";\n\nvar wrapperClass = /*#__PURE__*/_css(process.env.NODE_ENV === \"production\" ? {\n  name: \"bua8iw-wrapperClass\",\n  styles: \"flex:1 1 auto;overflow:hidden;display:flex;justify-content:center;align-items:center;;label:wrapperClass;\"\n} : {\n  name: \"bua8iw-wrapperClass\",\n  styles: \"flex:1 1 auto;overflow:hidden;display:flex;justify-content:center;align-items:center;;label:wrapperClass;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tb24vUm93Q291bnRXYXJuaW5nQ29udGFpbmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUd3QiIsImZpbGUiOiIuLi8uLi9zcmMvY29tbW9uL1Jvd0NvdW50V2FybmluZ0NvbnRhaW5lci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNzcywgY3ggfSBmcm9tIFwiZW1vdGlvblwiO1xuXG5jb25zdCB3cmFwcGVyQ2xhc3MgPSBjc3NgXG4gICAgZmxleDogMSAxIGF1dG87XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5gO1xuXG5jb25zdCBSb3dDb3VudFdhcm5pbmdDb250YWluZXIgPSAoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0pID0+IDxkaXYgY2xhc3NOYW1lPXtjeCh3cmFwcGVyQ2xhc3MsY2xhc3NOYW1lKX0gey4uLnByb3BzfSAvPjtcblxuZXhwb3J0IGRlZmF1bHQgUm93Q291bnRXYXJuaW5nQ29udGFpbmVyOyJdfQ== */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});\n\nvar RowCountWarningContainer = function RowCountWarningContainer(_ref) {\n  var className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\"]);\n\n  return React.createElement(\"div\", _extends({\n    className: _cx(wrapperClass, className)\n  }, props));\n};\n\nexport default RowCountWarningContainer;","var EventEmitter = /*#__PURE__*/function () {\n  function EventEmitter() {\n    this._T = Object.create(null);\n  }\n\n  var _proto = EventEmitter.prototype;\n\n  _proto._a = function _a(eventName, _fn, prepend, once) {\n    var eventsQueue = this._T[eventName];\n\n    if (once) {\n      var that = this,\n          originalFn = _fn;\n      /*\n          when using ...args and arrow func, babel is making unnecessary arguments copy.\n          Going old-school here for perf\n      */\n\n      _fn = function fn() {\n        originalFn.apply(that.off(eventName, _fn), arguments);\n      };\n    }\n\n    if (!eventsQueue) {\n      eventsQueue = this._T[eventName] = [];\n    }\n\n    eventsQueue[prepend ? \"unshift\" : \"push\"](_fn);\n    return this;\n  };\n\n  _proto.on = function on(eventName, fn) {\n    return this._a(eventName, fn, false, false);\n  };\n\n  _proto.prependListener = function prependListener(eventName, fn) {\n    return this._a(eventName, fn, true, false);\n  };\n\n  _proto.prependOnceListener = function prependOnceListener(eventName, fn) {\n    return this._a(eventName, fn, true, true);\n  };\n\n  _proto.once = function once(eventName, fn) {\n    return this._a(eventName, fn, false, true);\n  };\n\n  _proto.off = function off(eventName, fn) {\n    var eventsQueue = this._T[eventName];\n\n    if (eventsQueue) {\n      var idx = eventsQueue.indexOf(fn);\n\n      if (idx !== -1) {\n        eventsQueue.splice(idx, 1);\n      }\n    }\n\n    return this;\n  };\n\n  _proto.emit = function emit(eventName, a1, a2, a3, a4) {\n    var eventsQueue = this._T[eventName];\n\n    if (eventsQueue) {\n      for (var j = 0, i, evt, argLen = arguments.length, argsArr; j < eventsQueue.length; j++) {\n        evt = eventsQueue[j];\n\n        switch (argLen) {\n          case 1:\n            evt.call(this);\n            break;\n\n          case 2:\n            evt.call(this, a1);\n            break;\n\n          case 3:\n            evt.call(this, a1, a2);\n            break;\n\n          case 4:\n            evt.call(this, a1, a2, a3);\n            break;\n\n          case 5:\n            evt.call(this, a1, a2, a3, a4);\n            break;\n\n          default:\n            if (!argsArr) {\n              for (i = 1, argsArr = new Array(argLen - 1); i < argLen; i++) {\n                argsArr[i - 1] = arguments[i];\n              }\n            }\n\n            evt.apply(this, argsArr);\n            break;\n        }\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  _proto.removeAllListeners = function removeAllListeners(eventName) {\n    if (eventName) {\n      this._T[eventName] = [];\n    } else {\n      this._T = Object.create(null);\n    }\n\n    return this;\n  };\n\n  return EventEmitter;\n}();\n\nEventEmitter.prototype.removeListener = EventEmitter.prototype.off;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\nexport default EventEmitter;","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport clamp from \"lodash/clamp\";\nimport EventEmitter from \"../EventEmitter\";\n\nvar getRowDataInitial = function getRowDataInitial() {\n  throw new Error(\"getRowData must be provided\");\n};\n\nvar FixedSizeList = /*#__PURE__*/function (_EventEmitter) {\n  _inheritsLoose(FixedSizeList, _EventEmitter);\n\n  var _proto = FixedSizeList.prototype;\n\n  _proto.set = function set(paramName, paramValue) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!this.hasOwnProperty(paramName)) {\n        throw new Error(\"Trying to merge key, which does not exist: \" + paramName);\n      }\n    }\n\n    if (this[paramName] !== paramValue) {\n      this[paramName] = paramValue;\n      this.emit(\"#\" + paramName);\n    }\n\n    return this;\n  };\n\n  _proto.merge = function merge(params) {\n    for (var k in params) {\n      this.set(k, params[k]);\n    }\n\n    return this;\n  };\n\n  _proto.updateWidgetScrollHeight = function updateWidgetScrollHeight() {\n    return this.set(\"widgetScrollHeight\", this.rowHeight * this.totalRows);\n  };\n\n  _proto.updateStartOffset = function updateStartOffset() {\n    var scrollTop = this.scrollTop,\n        rowHeight = this.rowHeight;\n    var newVisibleStartIndex = scrollTop / rowHeight | 0;\n    var remainder = scrollTop % rowHeight;\n    var newStartIndex = Math.max(0, newVisibleStartIndex - this.overscanRowsCount);\n    var overscanOffset = (newVisibleStartIndex - newStartIndex) * rowHeight;\n    return this.set(\"virtualTopOffset\", newTopOffset - remainder - overscanOffset).set(\"startIndex\", newStartIndex);\n  };\n\n  _proto.updateEndIndex = function updateEndIndex() {\n    var newVisibleEndIndex = Math.ceil((this.scrollTop + this.widgetHeight) / this.rowHeight);\n    var newEndIndex = Math.min(newVisibleEndIndex + this.overscanRowsCount, this.totalRows);\n    return this.set(\"endIndex\", newEndIndex);\n  };\n\n  function FixedSizeList() {\n    var _this;\n\n    _this = _EventEmitter.call(this) || this;\n    _this.totalRows = 0;\n    _this.startIndex = 0;\n    _this.endIndex = 0;\n    _this.virtualTopOffset = 0;\n    _this.widgetScrollHeight = 0;\n    _this.overscanRowsCount = 0;\n    _this.rowHeight = 20;\n    _this.scrollTop = 0;\n    _this.widgetHeight = 0;\n    _this.widgetWidth = 0;\n    _this.rowKeyGetter = undefined;\n    _this.rowDataGetter = getRowDataInitial;\n    _this.rowsContainerNode = null;\n    _this.scrollContainerNode = null;\n\n    _this.on(\"#totalRows\", _this.updateWidgetScrollHeight).on(\"#totalRows\", _this.updateEndIndex).on(\"#scrollTop\", _this.updateStartOffset).on(\"#overscanRowsCount\", _this.updateStartOffset).on(\"#widgetHeight\", _this.updateEndIndex).on(\"#startIndex\", _this.updateEndIndex);\n\n    return _this;\n  }\n\n  _proto.destructor = function destructor() {\n    this.removeAllListeners();\n  };\n\n  _proto.reportRowsRendered = function reportRowsRendered() {\n    this.emit(\"rows-rendered\");\n  };\n\n  _proto.getNodeScrollTopForRowIndex = function getNodeScrollTopForRowIndex(clampedRowIndex) {\n    return this.rowHeight * clampedRowIndex;\n  };\n\n  _proto.scrollToRow = function scrollToRow(index) {\n    var node = this.scrollContainerNode;\n\n    if (node) {\n      index = clamp(index, 0, this.totalRows);\n      node.scrollTop = this.getNodeScrollTopForRowIndex(index);\n    }\n\n    return this;\n  };\n\n  _proto.scrollToStart = function scrollToStart() {\n    return this.scrollToRow(0);\n  };\n\n  return FixedSizeList;\n}(EventEmitter);\n\n;\nexport default FixedSizeList;","export var walkUntil = function walkUntil(dist, tree) {\n  var N = tree[0];\n  var nodeIndex = 1,\n      v;\n\n  while (nodeIndex < N) {\n    v = tree[nodeIndex <<= 1];\n\n    if (dist >= v) {\n      dist -= v;\n      nodeIndex |= 1;\n    }\n  }\n  /*\n      IDEA:\n          pack this to one double number.\n          num + remianer / 65535\n          Cons:\n              * unobvious\n              * perf fault because of double type costs.\n  */\n\n\n  return [nodeIndex - N, dist];\n};\nexport var sum = function sum(l, r, tree) {\n  var res = 0;\n  var N = tree[0];\n\n  for (l += N, r += N; l < r; l >>= 1, r >>= 1) {\n    if (l & 1) {\n      res += tree[l++];\n    }\n\n    if (r & 1) {\n      res += tree[--r];\n    }\n  }\n\n  ;\n  return res;\n}; // export const changeExcep\n\n/*\n    We always do batch insert, so there is no sense to update all parents each time.\n    It is more logical to insert leaves and then call calculateParentsInRange once.\n\n    IDEA:\n        * maybe reimplement this method using Duff's device( l++,r-- in one iteration) and make benchmarks for different l-r ranges\n*/\n\nexport var calculateParentsInRange = function calculateParentsInRange(l, r, tree) {\n  var N = tree[0];\n\n  for (r += N, l += N; r >>= 1;) {\n    for (var i = l >>= 1; i <= r; i++) {\n      tree[i] = tree[i << 1] + tree[i << 1 | 1];\n    }\n  }\n};\n/*\n    This constant is used for 2 reasons:\n        * Math.log2( 1 ) is 0, which is not correct for cache size calculation\n        * We should always have some extra space for new rows. We do not want to reallocate cache every time.\n*/\n\nvar MIN_TREE_CACHE_SIZE = 32;\nexport var reallocateIfNeeded = function reallocateIfNeeded(tree, endIndex, defaultValue) {\n  var N = tree ? tree[0] : 0;\n\n  if (endIndex > N) {\n    N = Math.pow(2, Math.ceil(Math.log2(endIndex + MIN_TREE_CACHE_SIZE)));\n    /*\n        Uint16 cannot be used here, because array stores intermediate sums, which can be huge.\n    */\n\n    tree = new Uint32Array(N * 2);\n    tree[0] = N;\n  }\n  /* clearing only what is needed */\n\n\n  tree.fill(0, 2, N + endIndex >> 1).fill(defaultValue, N, N + endIndex);\n  /*\n      Trees are not always ideally allocated, gaps are possible.\n      Classical way for calculating parents is much simpler,\n      but can do much more work(summing zeros) in such conditions. Commented classic algo:\n       for( let i = N + endIndex >> 1, j; i > 0; --i ){\n          j = i << 1;\n          tree[ i ] = tree[ j ] + tree[ j | 1 ];\n      }\n  */\n\n  calculateParentsInRange(0, endIndex, tree);\n  return tree;\n};","import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport FixedSizeList from \"../FixedSizeList\";\nimport debounce from \"lodash/debounce\";\nimport { calculateParentsInRange, walkUntil, sum, reallocateIfNeeded } from \"./treeUtils\";\nvar ROW_MEASUREMENT_DEBOUNCE_INTERVAL = 50;\nvar ROW_MEASUREMENT_DEBOUNCE_MAXWAIT = 150;\nvar END_INDEX_CHECK_INTERVAL = 400;\nvar DEFAULT_HEIGHS_CACHE = [0, 0];\n\nvar VariableSizeList = /*#__PURE__*/function (_FixedSizeList) {\n  _inheritsLoose(VariableSizeList, _FixedSizeList);\n\n  var _proto = VariableSizeList.prototype;\n\n  _proto.updateWidgetScrollHeight = function updateWidgetScrollHeight() {\n    /* In segments tree 1 node is always sum of all elements */\n    return this.set(\"widgetScrollHeight\", this.heighsCache[1]);\n  }\n  /*\n      TODO: maybe some react-like performUnitOfWork logic is needed here?\n  */\n  ;\n\n  _proto.updateStartOffset = function updateStartOffset() {\n    var newTopOffset = this.scrollTop;\n\n    var _walkUntil = walkUntil(newTopOffset, this.heighsCache),\n        newVisibleStartIndex = _walkUntil[0],\n        remainder = _walkUntil[1];\n\n    var newStartIndex = Math.max(0, newVisibleStartIndex - this.overscanRowsCount);\n    var overscanOffset = sum(newStartIndex, newVisibleStartIndex, this.heighsCache);\n    return this.set(\"virtualTopOffset\", newTopOffset - remainder - overscanOffset).set(\"startIndex\", newStartIndex);\n  };\n\n  _proto.updateEndIndex = function updateEndIndex() {\n    /*\n        TODO:\n            perf benchmarks tell, that removeChild is called often.\n            maybe cache previous range( endIndex - startIndex ) and if new range is smaller - throttle it's decrease?\n    */\n    var _walkUntil2 = walkUntil(this.scrollTop + this.widgetHeight, this.heighsCache),\n        newEndIndex = _walkUntil2[0];\n    /*\n        walkUntil works by \"strict less\" algo. It is good for startIndex,\n        but for endIndex we need \"<=\", so adding 1 artificially.\n    */\n\n\n    return this.set(\"endIndex\", Math.min(newEndIndex + 1 + this.overscanRowsCount, this.totalRows));\n  };\n\n  _proto.resetMeasurementsCache = function resetMeasurementsCache() {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!this.estimatedRowHeight) {\n        throw new Error(\"estimatedRowHeight must be provided\");\n      }\n    }\n\n    this.heighsCache = this.totalRows ? reallocateIfNeeded(this.heighsCache, this.totalRows, this.estimatedRowHeight) : DEFAULT_HEIGHS_CACHE;\n    return this;\n  }\n  /*\n  TODO: maybe this is needed on #totalRows? Check\n   cancelPendingAsyncCallsIfNeeded(){\n      if( this.totalRows < 0 ){\n          this.cancelPendingAsyncCalls();\n      }\n  }\n  */\n  ;\n\n  function VariableSizeList() {\n    var _this;\n\n    _this = _FixedSizeList.call(this) || this;\n    _this.estimatedRowHeight = 0;\n    _this.heighsCache = DEFAULT_HEIGHS_CACHE;\n    _this.setVisibleRowsHeights = debounce(function () {\n      var node = _this.rowsContainerNode;\n\n      if (node) {\n        /*\n            TODO:\n                make tree[ 0 ] more obvious and self-documented\n        */\n        var tree = _this.heighsCache,\n            N = tree[0];\n        var l = -1,\n            r = -1;\n        /*\n            Some benchmarks inspire me to use nextElementSibling\n            https://jsperf.com/nextsibling-vs-childnodes-increment/2\n        */\n\n        for (var child = node.firstElementChild, newHeight, index; child; child = child.nextElementSibling) {\n          /*\n              * aria-rowindex is counted from 1 according to w3c spec;\n              * parseInt with radix is 2x faster, then +, -, etc.\n                https://jsperf.com/number-vs-parseint-vs-plus/116\n          */\n          index = parseInt(child.getAttribute(\"aria-rowindex\"), 10) - 1;\n\n          if (process.env.NODE_ENV !== \"production\" && Number.isNaN(index)) {\n            throw new Error(\"aria-rowindex attribute must be present on each row. Look at default Row implementations.\");\n          }\n\n          newHeight = child.offsetHeight;\n\n          if (tree[N + index] !== newHeight) {\n            // console.log( \"%d| was: %d; is: %d\", index, tree[N+index],newHeight)\n            tree[N + index] = newHeight;\n\n            if (l === -1) {\n              l = index;\n            }\n\n            r = index;\n          }\n        }\n\n        if (l !== -1) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.log(\"Updating heights in range: %d - %d\", l, r);\n          }\n\n          calculateParentsInRange(l, r, tree);\n\n          _this.updateWidgetScrollHeight();\n        }\n      }\n\n      return _assertThisInitialized(_this);\n    }, ROW_MEASUREMENT_DEBOUNCE_INTERVAL, {\n      maxWait: ROW_MEASUREMENT_DEBOUNCE_MAXWAIT\n    });\n    _this.increaseEndIndexIfNeeded = debounce(function () {\n      var currentVisibleDist = sum(_this.startIndex, _this.endIndex, _this.heighsCache);\n\n      if (_this.widgetHeight > _this.virtualTopOffset + currentVisibleDist - _this.scrollTop) {\n        _this.updateEndIndex();\n      }\n\n      return _assertThisInitialized(_this);\n    }, END_INDEX_CHECK_INTERVAL);\n\n    _this.prependListener(\"#totalRows\", _this.resetMeasurementsCache).on(\"#widgetScrollHeight\", _this.increaseEndIndexIfNeeded).on(\"rows-rendered\", _this.setVisibleRowsHeights).on(\"#endIndex\", _this.increaseEndIndexIfNeeded.cancel).on(\"#widgetWidth\", _this.setVisibleRowsHeights);\n\n    return _this;\n  }\n\n  _proto.destructor = function destructor() {\n    this.setVisibleRowsHeights.cancel();\n    this.increaseEndIndexIfNeeded.cancel();\n\n    _FixedSizeList.prototype.destructor.call(this);\n  };\n\n  _proto.getNodeScrollTopForRowIndex = function getNodeScrollTopForRowIndex(clampedRowIndex) {\n    return sum(0, clampedRowIndex, this.heighsCache);\n  };\n\n  return VariableSizeList;\n}(FixedSizeList);\n\n;\nexport default VariableSizeList;"],"sourceRoot":""}